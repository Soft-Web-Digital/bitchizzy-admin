import{u as H}from"./user.7809a3f7.js";import{a as ul,s as dl,r as d,B as q,am as rl,h as cl,o as y,c as V,e as s,b as e,w as a,u as n,D as x,a6 as k,a2 as b,t as u,a7 as T,H as C,ax as il,F as z,k as J,x as $,j as vl,ay as _l,av as pl,az as fl,as as yl,aH as Vl,a9 as kl,m as v,aQ as ml,M as gl,N as bl,q as hl,V as xl,p as j,v as M,a3 as Cl,a4 as Ul}from"./index.09a9e36e.js";import{_ as wl}from"./plugin-vue_export-helper.21dcd24c.js";import{u as Q}from"./index.11c402df.js";import"./axios-services.17ccf49f.js";import"./filedownloader.f3cc1d55.js";import"./country.9f13e2ad.js";const m=U=>(Cl("data-v-0e0a47dd"),U=U(),Ul(),U),Fl={class:"d-flex justify-space-between mb-4"},Bl=m(()=>s("h3",null,"All Users",-1)),Sl=v("Export"),Dl=m(()=>s("h4",null,"Active users",-1)),Nl={class:"mt-6"},Il=m(()=>s("h4",null,"Inactive users",-1)),Tl={class:"mt-6"},$l=m(()=>s("h4",null,"Blocked users",-1)),jl={class:"mt-6"},Ml={class:"d-flex align-center justify-space-between"},Al=m(()=>s("h4",null,"Filter options:",-1)),Ll=v("Reset filter"),Pl=v("Filter"),Rl={key:0},Yl={class:"d-flex align-center"},El={class:"font-weight-bold"},Hl={class:"ml-1 font-weight-bold"},ql=m(()=>s("td",null,null,-1)),zl=v(" View user "),Jl=v(" Finance user "),Ql={key:0,class:"pa-6 text-center"},Wl=m(()=>s("h3",null,"Finance User",-1)),Gl=v("Submit"),Kl=ul({__name:"users",setup(U){const{getUsers:g,restoreUsers:Ol,blockUsers:W,financeUsers:G,exportUsers:K}=H(),{user:B,loading:w,filterUserById:O,use_activity:S}=dl(H()),X=d(!1),D=d(!1),r=d(1),Z=d([{title:"No."},{title:"User Info"},{title:"Phone Number"},{title:"Date and Time Joined"},{title:"Wallet Balance"},{title:"Transaction Count"},{title:"Status"},{title:"Actions"}]),A=d([]),ll=ml();q(()=>{var f;return(f=A.value[0])==null?void 0:f.email.slice(0,2)});const h=rl({type:"Select",amount:""}),L=d(""),el=f=>(X.value=!0,A.value=O.value(f),ll.push({name:"UserDetails",params:{id:f}})),al=f=>f==null?"green-darken-3":"red-darken-3",_=d(""),p=d(""),c=d(""),i=d(""),tl=()=>{_.value=""},sl=()=>{p.value=""};cl(async()=>{await g(r.value,_.value,p.value,c.value,i.value)}),q(()=>r.value||_.value||p.value||c.value||i.value);const ol=async()=>{r.value=1,_.value="",p.value="",c.value="",i.value="",await g(r.value,_.value,p.value,c.value,i.value)},N=d(!1),nl=async()=>{N.value=!0,await g(r.value,_.value,p.value,c.value,i.value),N.value=!1};return(f,o)=>{var P;return y(),V("div",null,[s("div",Fl,[Bl,e(x,{onClick:n(K),width:"200px",color:"secondary"},{default:a(()=>[Sl]),_:1},8,["onClick"])]),e(T,null,{default:a(()=>[e(k,{cols:"12",sm:"4"},{default:a(()=>[e(b,{elevation:"0",class:"py-4 px-6"},{default:a(()=>{var t;return[Dl,s("h2",Nl,u((t=n(S))==null?void 0:t.active_users),1)]}),_:1})]),_:1}),e(k,{cols:"12",sm:"4"},{default:a(()=>[e(b,{elevation:"0",class:"py-4 px-6"},{default:a(()=>{var t;return[Il,s("h2",Tl,u((t=n(S))==null?void 0:t.inactive_users),1)]}),_:1})]),_:1}),e(k,{cols:"12",sm:"4"},{default:a(()=>[e(b,{elevation:"0",class:"py-4 px-6"},{default:a(()=>{var t;return[$l,s("h2",jl,u((t=n(S))==null?void 0:t.blocked_users),1)]}),_:1})]),_:1})]),_:1}),e(b,{class:"py-4 px-5 my-4"},{default:a(()=>[s("div",Ml,[Al,s("div",null,[e(x,{onClick:ol,color:"primary",class:"mr-4"},{default:a(()=>[Ll]),_:1}),e(x,{loading:N.value,onClick:o[0]||(o[0]=t=>nl()),width:"200px",color:"secondary"},{default:a(()=>[Pl]),_:1},8,["loading"])])]),e(T,{class:"mt-3"},{default:a(()=>[e(k,{cols:"12",sm:"6",lg:"3"},{default:a(()=>[e(C,{label:"Search Users",variant:"outlined",modelValue:_.value,"onUpdate:modelValue":o[1]||(o[1]=t=>_.value=t),clearable:"","onClick:clear":tl,density:"compact"},null,8,["modelValue"])]),_:1}),e(k,{cols:"12",sm:"6",lg:"3"},{default:a(()=>[e(C,{label:"Filter by email",variant:"outlined",modelValue:p.value,"onUpdate:modelValue":o[2]||(o[2]=t=>p.value=t),clearable:"","onClick:clear":sl,density:"compact"},null,8,["modelValue"])]),_:1}),e(k,{cols:"12",sm:"6",lg:"3"},{default:a(()=>[e(C,{label:"Filter date joined from",variant:"outlined",density:"compact",type:"date",modelValue:c.value,"onUpdate:modelValue":o[3]||(o[3]=t=>c.value=t)},null,8,["modelValue"])]),_:1}),e(k,{cols:"12",sm:"6",lg:"3"},{default:a(()=>[e(C,{label:"Filter date joined to",variant:"outlined",type:"date",modelValue:i.value,"onUpdate:modelValue":o[4]||(o[4]=t=>i.value=t),density:"compact"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(b,null,{default:a(()=>{var t,R;return[e(il,null,{default:a(()=>{var Y;return[s("thead",null,[s("tr",null,[(y(!0),V(z,null,J(Z.value,(l,I)=>(y(),V("th",{key:I,class:"text-left"},u(l.title),1))),128))])]),n(w)?$("",!0):(y(),V("tbody",Rl,[(y(!0),V(z,null,J((Y=n(B))==null?void 0:Y.data,(l,I)=>{var E;return y(),V("tr",{class:"pa-3",key:l==null?void 0:l.id},[s("td",null,u(I+1),1),s("td",null,[s("div",Yl,[s("div",null,[s("span",El,u(l==null?void 0:l.firstname.substring(0,10)),1),s("span",Hl,u(l==null?void 0:l.lastname.substring(0,10)),1),s("p",null,u((E=l==null?void 0:l.email)!=null?E:"No data"),1)])])]),s("td",null,"(+234) "+u(l==null?void 0:l.phone_number),1),s("td",null,[v(u(n(Q)(l==null?void 0:l.created_at,"DD, MMMM-YYYY").value)+" ",1),s("div",null,u(n(Q)(l==null?void 0:l.created_at,"hh:mm a").value),1)]),s("td",null,"\u20A6 "+u(l.wallet_balance.toLocaleString()),1),ql,s("td",null,[e(gl,{label:"",color:al(l==null?void 0:l.blocked_at)},{default:a(()=>[v(u((l==null?void 0:l.blocked_at)==null?"Active":"Blocked"),1)]),_:2},1032,["color"])]),s("td",null,[e(T,{justify:"center"},{default:a(()=>[e(bl,{transition:"scroll-y-transition"},{activator:a(({props:F})=>[e(x,hl({text:"",icon:"mdi-dots-vertical",color:"transparent",class:"ma-2"},F),null,16)]),default:a(()=>[e(xl,null,{default:a(()=>[e(j,{onClick:F=>el(l==null?void 0:l.id),link:"",color:"secondary"},{default:a(()=>[e(M,null,{default:a(()=>[zl]),_:1})]),_:2},1032,["onClick"]),e(j,{onClick:F=>{D.value=!0,L.value=l==null?void 0:l.id},link:"",color:"secondary"},{default:a(()=>[e(M,null,{default:a(()=>[Jl]),_:1})]),_:2},1032,["onClick"]),e(j,{onClick:F=>n(W)(l==null?void 0:l.id),link:"",color:"secondary"},{default:a(()=>[e(M,null,{default:a(()=>[v(u((l==null?void 0:l.blocked_at)==null?"Block user":"Unblock user"),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])])}),128))]))]}),_:1}),((R=(t=n(B))==null?void 0:t.data)==null?void 0:R.length)<=0&&n(w)==!1?(y(),V("p",Ql," No data ")):$("",!0),n(w)?(y(),vl(pl,{key:1,class:"align-center justify-center my-6 w-100"},{default:a(()=>[e(_l,{indeterminate:""})]),_:1})):$("",!0)]}),_:1}),e(fl,{modelValue:r.value,"onUpdate:modelValue":[o[5]||(o[5]=t=>r.value=t),o[8]||(o[8]=t=>n(g)(r.value,c.value,i.value))],length:(P=n(B))==null?void 0:P.last_page,onNext:o[6]||(o[6]=t=>n(g)(r.value,c.value,i.value)),onPrev:o[7]||(o[7]=t=>n(g)(r.value,c.value,i.value)),"active-color":"red",start:1,variant:"flat",class:"mt-5",color:"bg-secondary",rounded:"circle"},null,8,["modelValue","length"]),e(kl,{modelValue:D.value,"onUpdate:modelValue":o[12]||(o[12]=t=>D.value=t),"max-width":"500px"},{default:a(()=>[e(b,{class:"pa-4"},{default:a(()=>[Wl,e(yl,{class:"mt-8 py-8"},{default:a(()=>[e(Vl,{modelValue:h.type,"onUpdate:modelValue":o[9]||(o[9]=t=>h.type=t),label:"Transaction Type",variant:"outlined",items:["Debit","Credit"]},null,8,["modelValue"]),e(C,{modelValue:h.amount,"onUpdate:modelValue":o[10]||(o[10]=t=>h.amount=t),label:"Amount",variant:"outlined"},null,8,["modelValue"]),e(x,{loading:n(w),color:"primary",block:"",onClick:o[11]||(o[11]=t=>n(G)(L.value,h))},{default:a(()=>[Gl]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}});var oe=wl(Kl,[["__scopeId","data-v-0e0a47dd"]]);export{oe as default};
