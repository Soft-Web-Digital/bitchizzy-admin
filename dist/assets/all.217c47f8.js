import{a as de,s as F,f as ue,r,h as re,aw as ce,o as _,c as f,b as a,e,w as o,an as _e,ao as j,u as t,ap as ve,ax as fe,F as L,k as I,x as V,j as Y,ay as y,av as G,a2 as B,az as me,D as S,ai as ge,M as X,m,t as d,a7 as E,a6 as H,au as he,a9 as J,a1 as be,T as we,aA as Ve,aX as pe}from"./index.09a9e36e.js";import{u as K}from"./withdrawals.6484bb7b.js";import{_ as ke}from"./BaseBreadcrumb.4ccd5924.js";import{u as O}from"./index.11c402df.js";import"./axios-services.17ccf49f.js";/* empty css                                                       */const xe={class:"mt-4"},Ce=m("All"),De=m("Pending"),Ae=m("Success"),Te=m("Failed"),$e={key:0},Ne={class:"font-weight-bold"},je=["onClick"],Se={key:1,class:"text-center py-6"},Me={class:"mb-3 d-flex justify-space-between"},Ue=e("h3",{class:"text-justify mt-7"},"Withdrawal request details",-1),Pe={class:"my-3"},Ye={key:0,class:"w-100 d-flex align-center justify-space-between"},Be={class:"mb-4"},Ee=e("h5",null,"Wallet balance",-1),We={class:"font-weight-bold"},qe={class:"mb-4"},Re=e("h5",{class:""},"User name",-1),ze={class:""},Fe={class:"mb-4"},Le=e("h5",{class:""},"Email address",-1),Ie={class:""},ye={class:"mb-4"},Ge=e("h5",{class:""},"Date & time",-1),Xe={class:""},He={class:"mb-4"},Je=e("h5",null,"Amount",-1),Ke={class:"font-weight-bold"},Oe={class:"mb-4"},Qe=e("h5",{class:""},"Bank name",-1),Ze={class:""},et={class:"mb-4"},tt=e("h5",{class:""},"Account name",-1),lt={class:""},st={class:"mb-4"},at=e("h5",{class:""},"Account number",-1),ot={class:""},nt={key:2},it=m(" Disapprove request "),dt=m(" Approve request "),ut=e("p",null,"Enter Reasons for Declining this withdrawal request",-1),rt=m("Submit"),xt=de({__name:"all",setup(ct){F(ue());const{getAllPayments:g,approveRequest:Q,declineRequest:Z,getSingleWithDrawals:_t,filterWithDrawalsByDateCreated:vt,getAllTransactionCount:ee}=K(),{withdrawals:ft,payments:M,loading:x,singleWithdrawal:c,dialog:p,disapproving:te,approving:le,withdrawals_total:mt}=F(K()),T=r(""),$=r(!1),W=async()=>{await g(T.value,1),await ee()};let q=r(null);re(()=>{W(),q.value=setInterval(W,12e4)}),ce(()=>{clearInterval(q.value)});const se=r({title:"Payments"}),U=r(""),ae=r([{text:"Transactions",disabled:!1,href:"#"},{text:"Payments",disabled:!0,href:"#"}]),oe=r([{title:"No."},{title:"Full name"},{title:"Amount (NGN)"},{title:"Type"},{title:"Date and Time"},{title:"Status"}]),ne=r(""),ie=()=>{p.value==!0&&(p.value=!1),$.value=!0};r(["Pending","Completed","Declined","Success"]);const R=k=>k=="pending"?"yellow-darken-3":k=="completed"||k=="success"?"green lighten-3":k=="declined"?"red lighten-3":"",P=r(!1),C=r(1);r("");const N=r(null);return(k,s)=>{var z;return _(),f("div",null,[a(ke,{title:se.value.title,breadcrumbs:ae.value},null,8,["title","breadcrumbs"]),e("div",xe,[a(B,{class:"pa-5"},{default:o(()=>{var i,u;return[a(_e,{modelValue:N.value,"onUpdate:modelValue":s[4]||(s[4]=n=>N.value=n),"bg-color":"none",class:"mb-5"},{default:o(()=>[a(j,{onClick:s[0]||(s[0]=n=>t(g)("",1))},{default:o(()=>[Ce]),_:1}),a(j,{onClick:s[1]||(s[1]=n=>t(g)("pending",1))},{default:o(()=>[De]),_:1}),a(j,{onClick:s[2]||(s[2]=n=>t(g)("success",1))},{default:o(()=>[Ae]),_:1}),a(j,{onClick:s[3]||(s[3]=n=>t(g)("failed",1))},{default:o(()=>[Te]),_:1})]),_:1},8,["modelValue"]),a(ve,{modelValue:N.value,"onUpdate:modelValue":s[5]||(s[5]=n=>N.value=n)},{default:o(()=>[a(fe,null,{default:o(()=>{var n;return[e("thead",null,[e("tr",null,[(_(!0),f(L,null,I(oe.value,(l,v)=>(_(),f("th",{key:v,class:"text-left font-weight-bold"},d(l.title),1))),128))])]),t(x)==!1?(_(),f("tbody",$e,[(_(!0),f(L,null,I((n=t(M))==null?void 0:n.data,(l,v)=>{var h,b,w,D,A;return _(),f("tr",{class:"pa-3",key:l==null?void 0:l.id},[e("td",null,d(v+1),1),e("td",Ne,[e("span",{onClick:gt=>k.$router.push({name:"UserDetails",params:{id:l==null?void 0:l.user_id}}),class:"text-capitalize username"},d((b=(h=l==null?void 0:l.user)==null?void 0:h.firstname)!=null?b:"---")+" "+d((D=(w=l==null?void 0:l.user)==null?void 0:w.lastname)!=null?D:"---"),9,je)]),e("td",null,"\u20A6\u200E "+d(l.amount.toLocaleString()),1),e("td",null,d((A=l==null?void 0:l.title)!=null?A:"---"),1),e("td",null,d(t(O)(l==null?void 0:l.created_at,"DD, MMMM-YYYY").value),1),e("td",null,[a(X,{label:"",class:"text-capitalize font-weight-bold pa-3",color:R(l==null?void 0:l.status)},{default:o(()=>[m(d(l==null?void 0:l.status),1)]),_:2},1032,["color"])]),e("td",null,[a(E,{justify:"center"})])])}),128))])):V("",!0)]}),_:1})]),_:1},8,["modelValue"]),t(x)==!0?(_(),Y(G,{key:0,class:"align-center justify-center w-100 my-5"},{default:o(()=>[a(y,{indeterminate:""})]),_:1})):V("",!0),t(x)==!1&&((u=(i=t(M))==null?void 0:i.data)==null?void 0:u.length)<=0?(_(),f("p",Se," No data available ")):V("",!0)]}),_:1}),a(me,{modelValue:C.value,"onUpdate:modelValue":[s[6]||(s[6]=i=>C.value=i),s[9]||(s[9]=i=>t(g)(T.value,C.value))],length:(z=t(M))==null?void 0:z.last_page,onNext:s[7]||(s[7]=i=>t(g)(T.value,C.value)),onPrev:s[8]||(s[8]=i=>t(g)(T.value,C.value)),"active-color":"red",start:1,variant:"flat",class:"mt-5",color:"bg-secondary",rounded:"circle"},null,8,["modelValue","length"])]),a(J,{modelValue:t(p),"onUpdate:modelValue":s[12]||(s[12]=i=>he(p)?p.value=i:null),"max-width":"429px","min-height":"476px"},{default:o(()=>[a(B,{class:"view-dialog pa-4"},{default:o(()=>{var i;return[e("div",Me,[Ue,a(S,{onClick:s[10]||(s[10]=u=>p.value=!1),icon:"mdi-close",color:"secondary",variant:"text"},{default:o(()=>[a(ge,{icon:"mdi-close"})]),_:1})]),e("div",Pe,[e("div",null,[a(X,{label:"",size:"small",density:"comfortable",class:"text-capitalize font-weight-bold pa-3",color:R((i=t(c))==null?void 0:i.status)},{default:o(()=>{var u;return[m(d((u=t(c))==null?void 0:u.status),1)]}),_:1},8,["color"])])]),P.value==!1&&t(x)==!1?(_(),f("div",Ye,[a(E,{align:"center",justify:"center","no-gutters":"",class:"w-100 align-center justify-space-between"},{default:o(()=>[a(H,{class:"pa-0"},{default:o(()=>{var u,n,l,v,h,b,w;return[e("div",Be,[e("div",null,[Ee,e("p",We," \u20A6\u200E"+d((n=(u=t(c))==null?void 0:u.user)==null?void 0:n.wallet_balance.toLocaleString()),1)])]),e("div",qe,[e("div",null,[Re,e("p",ze,d((v=(l=t(c))==null?void 0:l.user)==null?void 0:v.firstname),1)])]),e("div",Fe,[e("div",null,[Le,e("p",Ie,d((b=(h=t(c))==null?void 0:h.user)==null?void 0:b.email),1)])]),e("div",ye,[e("div",null,[Ge,e("p",Xe,d(t(O)((w=t(c))==null?void 0:w.created_at,"DD, MMMM-YYYY").value),1)])])]}),_:1})]),_:1}),a(E,{align:"center",justify:"center","no-gutters":"",class:"w-100 align-center justify-space-between ml-5"},{default:o(()=>[a(H,{class:"pa-0"},{default:o(()=>{var u,n,l,v,h,b,w,D,A;return[e("div",He,[e("div",null,[Je,e("p",Ke," \u20A6\u200E"+d((n=(u=t(c))==null?void 0:u.amount)==null?void 0:n.toLocaleString()),1)])]),e("div",Oe,[e("div",null,[Qe,e("p",Ze,d((h=(v=(l=t(c))==null?void 0:l.bank)==null?void 0:v.name)!=null?h:"No data"),1)])]),e("div",et,[e("div",null,[tt,e("p",lt,d((w=(b=t(c))==null?void 0:b.account_name)!=null?w:"No data"),1)])]),e("div",st,[e("div",null,[at,e("p",ot,d((A=(D=t(c))==null?void 0:D.account_number)!=null?A:"No data"),1)])])]}),_:1})]),_:1})])):V("",!0),P.value==!0||t(x)==!0?(_(),Y(G,{key:1,class:"align-center justify-center w-100 my-10"},{default:o(()=>[a(y,{indeterminate:""})]),_:1})):V("",!0),t(c).status=="pending"&&P.value==!1?(_(),f("div",nt,[a(S,{onClick:ie,class:"wallet-btn",variant:"outlined",color:"error",loading:t(te)},{default:o(()=>[it]),_:1},8,["loading"]),a(S,{onClick:s[11]||(s[11]=u=>{var n;return t(Q)((n=t(c))==null?void 0:n.id)}),class:"wallet-btn ml-4",color:"secondary",loading:t(le)},{default:o(()=>[dt]),_:1},8,["loading"])])):V("",!0)]}),_:1})]),_:1},8,["modelValue"]),a(pe,null,{default:o(()=>[$.value?(_(),Y(J,{key:0,modelValue:$.value,"onUpdate:modelValue":s[15]||(s[15]=i=>$.value=i),activator:"parent","max-width":"500px",width:"auto"},{default:o(()=>[a(B,null,{default:o(()=>[a(be,null,{default:o(()=>[ut]),_:1}),a(we,{class:"mt-7"},{default:o(()=>[a(Ve,{label:"Comments",modelValue:U.value,"onUpdate:modelValue":s[13]||(s[13]=i=>U.value=i),variant:"outlined"},null,8,["modelValue"]),a(S,{color:"secondary",class:"my-5",block:"",onClick:s[14]||(s[14]=i=>t(Z)(ne.value,U.value))},{default:o(()=>[rt]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):V("",!0)]),_:1})])}}});export{xt as default};
