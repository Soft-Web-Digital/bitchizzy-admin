import{a as Ue,s as R,r as c,am as Ge,h as Se,o as f,c as y,b as e,e as d,w as s,D,a7 as M,a6 as r,H as Z,aH as ee,u as a,a2 as P,ax as $e,F as Y,k as H,x as E,j as ae,ay as Fe,av as Ne,au as j,az as De,a9 as le,aF as Me,t as m,a1 as Pe,T as Ye,as as je,ar as qe,aA as ze,a$ as te,at as q,a8 as Be,I as Re,m as p,O as se,P as oe,M as T,aQ as He,ai as L,a3 as Ee,a4 as Le}from"./index.09a9e36e.js";import{_ as Oe}from"./BaseBreadcrumb.4ccd5924.js";import{u as Qe}from"./useFormatter.be1a3376.js";import{u as Je}from"./country.9f13e2ad.js";import{u as de}from"./giftcard.06a76fe9.js";import{u as ne}from"./user.7809a3f7.js";import{_ as Ke}from"./plugin-vue_export-helper.21dcd24c.js";import{u as ue}from"./index.11c402df.js";/* empty css                                                       */import"./filedownloader.f3cc1d55.js";import"./axios-services.17ccf49f.js";const b=I=>(Ee("data-v-4d55de34"),I=I(),Le(),I),We={class:"w-full d-flex justify-end my-3"},Xe=p(" Add giftcard category "),Ze=p("Filter data"),ea={class:"pa-2"},aa={key:0},la=p("mdi-eye"),ta=p("mdi-pencil"),sa=p("mdi-delete"),oa={key:1,class:"text-center py-6"},da={class:"text-h5 font-weight-bold"},na=p(" Close "),ua=b(()=>d("h3",null,"GiftCard Details",-1)),ia={class:"w-100 d-flex align-center justify-center"},ra={class:"d-flex align-center"},ca={class:"ml-4"},ma=b(()=>d("h4",{class:"py-1"},"Name:",-1)),va={class:"mb-0 grey-lighten-1"},pa=b(()=>d("h4",{class:"py-1"},"Sale activation status:",-1)),fa=b(()=>d("h4",{class:"py-1"},"Purchase activation status:",-1)),_a=b(()=>d("h4",{class:"py-1"},"Giftcard term:",-1)),ga={class:"mb-0 grey-lighten-1"},Va=b(()=>d("h4",{class:"py-1"},"Date created:",-1)),ya={class:"mb-0 grey-lighten-1"},Ca=b(()=>d("h4",{class:"py-1"},"Giftcard countries:",-1)),ba=Ue({__name:"category",setup(I){const{countries:ie}=R(Je()),{admin:re}=R(ne()),{getAdmin:ce}=ne(),me=He(),{giftCard:v,loading:k,dialog:h,gift_categories:U,singleGiftCard:i,update_category:G,update_admin:S,page:_}=R(de()),{createGiftCardCategory:ve,getAllGifCardCategories:A,getSingleGifCardCategories:pe,deleteGifCardCategories:fe,restoreGifCardCategories:ha,activationGifCardCategories:_e,editGiftCardCategory:ge,purchaseActivationGifCardCategories:Ve}=de(),{sortItems:ye}=Qe(),Ce=c({title:"Gift Cards"}),O=c(""),Q=c(""),be=c([{text:"Cards",disabled:!1,href:"#"},{text:"Categories",disabled:!0,href:"#"}]),J=c(!1),he=c([u=>!!u||"Giftcard name is required"]),C=c(""),x=c(""),w=c("");function xe(){C.value=""}const we=Ge([{title:"No."},{title:"Icon"},{title:"Name"},{title:"Created At"},{title:"Sale activation status"},{title:"Purchase activation status"},{title:"Actions"}]),ke=u=>{v.value.icon=u.target.files[0]};Se(async()=>{await A(_.value),await ce()}),c("");const K=c(!1),Ae=async u=>{me.push({name:"GiftCardCategoryView",params:{id:u}})},z=c(!1),$=c("Create Item"),Te=async u=>{var t;await pe(u.id),v.value={id:u.id,name:u.name,icon:u.icon,sale_term:u.sale_term,countries:u==null?void 0:u.countries,admins:(t=i==null?void 0:i.value)==null?void 0:t.admins},$.value="Update category",h.value=!0,z.value=!0},Ie=()=>{h.value=!1,v.value=Object.assign({},{name:"",icon:null,sale_term:"",countries:[],data:""}),$.value="Create Item",z.value=!1};c(!1);const F=u=>u!==null?"Activated":"Not active",N=u=>u!==null?"green lighten-3":"red lighten-3";return(u,t)=>{var W;return f(),y(Y,null,[e(Oe,{title:Ce.value.title,breadcrumbs:be.value},null,8,["title","breadcrumbs"]),d("div",We,[e(D,{"prepend-icon":"mdi-plus",onClick:t[0]||(t[0]=l=>h.value=!0),variant:"flat",color:"secondary"},{default:s(()=>[Xe]),_:1})]),e(P,{flat:"",elevation:"0",rounded:"0",class:"my-5 pa-4"},{default:s(()=>[e(M,{class:"mt-3"},{default:s(()=>[e(r,{cols:"12",sm:"6",md:"3"},{default:s(()=>[e(Z,{label:"Filter by gitfcard name",density:"compact",modelValue:C.value,"onUpdate:modelValue":t[1]||(t[1]=l=>C.value=l),variant:"outlined","onClick:clear":xe,clearable:""},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",sm:"6",md:"3"},{default:s(()=>[e(ee,{modelValue:x.value,"onUpdate:modelValue":t[2]||(t[2]=l=>x.value=l),label:"Filter by sales activation",density:"compact",items:["Active","Not active"],variant:"outlined"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",sm:"6",md:"3"},{default:s(()=>[e(ee,{modelValue:w.value,"onUpdate:modelValue":t[3]||(t[3]=l=>w.value=l),label:"Filter by Purchase activation",density:"compact",items:["Active","Not active"],variant:"outlined"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",sm:"6",md:"3"},{default:s(()=>[e(D,{onClick:t[4]||(t[4]=l=>a(A)(a(_),C.value,x.value=="Active"?1:0,w.value=="Active"?1:0)),block:"",loading:a(k),color:"secondary"},{default:s(()=>[Ze]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}),e(P,{class:"my-4"},{default:s(()=>{var l,n;return[e($e,null,{default:s(()=>{var g,V;return[d("thead",null,[d("tr",ea,[(f(!0),y(Y,null,H(we,(o,B)=>(f(),y("th",{key:B,class:"text-left"},m(o.title),1))),128))])]),a(k)==!1&&((V=(g=a(U))==null?void 0:g.data)==null?void 0:V.length)>0?(f(),y("tbody",aa,[(f(!0),y(Y,null,H(a(ye)(a(U).data),(o,B)=>(f(),y("tr",{class:"pa-2",key:o.id},[d("td",null,m(B+1),1),d("td",null,[e(se,{size:"50px"},{default:s(()=>[e(oe,{cover:"",class:"rounded-circle img-fluid img-size",src:o==null?void 0:o.icon},null,8,["src"])]),_:2},1024)]),d("td",null,m(o==null?void 0:o.name),1),d("td",null,m(a(ue)(o==null?void 0:o.created_at,"DD, MMMM-YYYY").value),1),d("td",null,[e(T,{label:"",class:"pa-2",color:N(o==null?void 0:o.sale_activated_at)},{default:s(()=>[p(m(F(o==null?void 0:o.sale_activated_at)),1)]),_:2},1032,["color"])]),d("td",null,[e(T,{label:"",class:"pa-2",color:N(o==null?void 0:o.purchase_activated_at)},{default:s(()=>[p(m(F(o==null?void 0:o.purchase_activated_at)),1)]),_:2},1032,["color"])]),d("td",null,[e(L,{small:"",class:"mr-2 text-secondary cursor-pointer",onClick:X=>Ae(o==null?void 0:o.id),title:"view"},{default:s(()=>[la]),_:2},1032,["onClick"]),e(L,{small:"",class:"mr-2 text-primary cursor-pointer",onClick:X=>Te(o),title:"Edit"},{default:s(()=>[ta]),_:2},1032,["onClick"]),e(L,{small:"",class:"text-error cursor-pointer",title:"Delete",onClick:X=>a(fe)(o==null?void 0:o.id)},{default:s(()=>[sa]),_:2},1032,["onClick"])])]))),128))])):E("",!0)]}),_:1}),a(k)==!0?(f(),ae(Ne,{key:0,class:"align-center justify-center w-100 my-5"},{default:s(()=>[e(Fe,{indeterminate:""})]),_:1})):E("",!0),a(k)==!1&&((n=(l=a(U))==null?void 0:l.data)==null?void 0:n.length)<=0?(f(),y("p",oa," No data available ")):E("",!0)]}),_:1}),e(De,{modelValue:a(_),"onUpdate:modelValue":[t[5]||(t[5]=l=>j(_)?_.value=l:null),t[8]||(t[8]=l=>a(A)(a(_),C.value,x.value,w.value))],length:(W=a(U))==null?void 0:W.last_page,onNext:t[6]||(t[6]=l=>a(A)(a(_),C.value,x.value,w.value)),onPrev:t[7]||(t[7]=l=>a(A)(a(_),C.value,x.value,w.value)),"active-color":"red",start:1,variant:"flat",class:"mt-5",color:"bg-secondary",rounded:"circle"},null,8,["modelValue","length"]),e(M,{justify:"center"},{default:s(()=>[e(le,{modelValue:a(h),"onUpdate:modelValue":t[18]||(t[18]=l=>j(h)?h.value=l:null),persistent:"","max-width":"520px"},{default:s(()=>[e(P,null,{default:s(()=>[e(Me,{class:"py-4"},{default:s(()=>[d("h3",da,m($.value),1)]),_:1}),e(Pe,null,{default:s(()=>[e(Ye,null,{default:s(()=>[e(je,{ref:"form",modelValue:J.value,"onUpdate:modelValue":t[15]||(t[15]=l=>J.value=l),"lazy-validation":""},{default:s(()=>[e(M,null,{default:s(()=>[e(r,{cols:"12",sm:"6",md:"12"},{default:s(()=>[e(Z,{modelValue:a(v).name,"onUpdate:modelValue":t[9]||(t[9]=l=>a(v).name=l),rules:he.value,label:"Giftcard category name*",required:""},null,8,["modelValue","rules"])]),_:1}),e(r,{cols:"12",sm:"6",md:"12"},{default:s(()=>[e(qe,{hint:"This field is optional","persistent-hint":"","append-inner-icon":"mdi-paperclip","prepend-icon":"",onInput:ke,label:"File input"})]),_:1}),e(r,{cols:"12"},{default:s(()=>[e(ze,{hint:"This field is optional","persistent-hint":"",modelValue:a(v).sale_term,"onUpdate:modelValue":t[10]||(t[10]=l=>a(v).sale_term=l),label:"Sale Term",required:""},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",sm:"12"},{default:s(()=>[e(te,{items:a(ie),label:"Countries",required:"",chips:"",multiple:"","item-title":"name","item-value":"id",disabled:!a(G),modelValue:a(v).countries,"onUpdate:modelValue":t[11]||(t[11]=l=>a(v).countries=l),hint:"This is a toggle feature, that is, existing country will be removed, new one will be added.","persistent-hint":""},null,8,["items","disabled","modelValue"]),e(q,{modelValue:a(G),"onUpdate:modelValue":t[12]||(t[12]=l=>j(G)?G.value=l:null),density:"compact","hide-details":!0,label:"Toggle to edit"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",sm:"12"},{default:s(()=>[e(te,{items:a(re),label:"Admin",required:"",chips:"",disabled:!a(S),multiple:"","item-title":"email","item-value":"id",modelValue:a(v).admins,"onUpdate:modelValue":t[13]||(t[13]=l=>a(v).admins=l),hint:"This is a toggle feature, that is, existing admin will be removed, new one will be added.","persistent-hint":""},null,8,["items","disabled","modelValue"]),e(q,{modelValue:a(S),"onUpdate:modelValue":t[14]||(t[14]=l=>j(S)?S.value=l:null),density:"compact","hide-details":!0,label:"Toggle to edit"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(Be,null,{default:s(()=>[e(Re),e(D,{color:"secondary",class:"px-7",variant:"outlined",onClick:t[16]||(t[16]=l=>Ie())},{default:s(()=>[na]),_:1}),e(D,{loading:a(k),onClick:t[17]||(t[17]=l=>z.value==!0?a(ge)(a(v)):a(ve)(a(v))),color:"secondary",class:"px-12",variant:"flat"},{default:s(()=>[p(m($.value),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(le,{"max-width":"380px",modelValue:K.value,"onUpdate:modelValue":t[23]||(t[23]=l=>K.value=l)},{default:s(()=>[e(P,{class:"pa-5"},{default:s(()=>[ua,d("div",ia,[e(M,{class:"my-12 w-100 max-w-lg"},{default:s(()=>[e(r,{cols:"12",sm:"12",lg:"12"},{default:s(()=>{var l;return[d("div",ra,[e(se,{size:"70px"},{default:s(()=>{var n;return[e(oe,{cover:"",class:"rounded-circle img-fluid",src:(n=a(i))==null?void 0:n.icon},null,8,["src"])]}),_:1}),d("div",ca,[ma,d("p",va,m((l=a(i))==null?void 0:l.name),1)])])]}),_:1}),e(r,{cols:"12",sm:"6",lg:"12"},{default:s(()=>{var l;return[pa,e(T,{label:"",class:"pa-2",color:N((l=a(i))==null?void 0:l.sale_activated_at)},{default:s(()=>{var n;return[p(m(F((n=a(i))==null?void 0:n.sale_activated_at)),1)]}),_:1},8,["color"])]}),_:1}),e(r,{cols:"12",sm:"6",lg:"12"},{default:s(()=>{var l;return[fa,e(T,{label:"",class:"pa-2",color:N((l=a(i))==null?void 0:l.purchase_activated_at)},{default:s(()=>{var n;return[p(m(F((n=a(i))==null?void 0:n.purchase_activated_at)),1)]}),_:1},8,["color"])]}),_:1}),e(r,{cols:"12",sm:"6",lg:"12"},{default:s(()=>{var l,n;return[_a,d("p",ga,m((n=(l=a(i))==null?void 0:l.sale_term)!=null?n:"No sale term detail"),1)]}),_:1}),e(r,{cols:"12",sm:"6",lg:"12"},{default:s(()=>{var l;return[Va,d("p",ya,m(a(ue)((l=a(i))==null?void 0:l.created_at,"DD, MMMM-YYYY").value),1)]}),_:1}),e(r,{cols:"12",sm:"6",lg:"12"},{default:s(()=>{var l;return[Ca,(f(!0),y(Y,null,H((l=a(i))==null?void 0:l.countries,n=>(f(),ae(T,{key:n.id,class:"ma-2",color:"secondary"},{default:s(()=>[p(m(n==null?void 0:n.name),1)]),_:2},1024))),128))]}),_:1}),e(r,{cols:"12",sm:"6",lg:"12"},{default:s(()=>{var l,n;return[e(q,{density:"compact",flat:!0,value:a(i).sale_activated_at,modelValue:O.value,"onUpdate:modelValue":t[19]||(t[19]=g=>O.value=g),focused:"",label:"Toggle Sale Activation",color:((l=a(i))==null?void 0:l.sale_activated_at)==null?"":"secondary",onInput:t[20]||(t[20]=g=>{var V;return a(_e)((V=a(i))==null?void 0:V.id)})},null,8,["value","modelValue","color"]),e(q,{density:"compact",flat:!0,modelValue:Q.value,"onUpdate:modelValue":t[21]||(t[21]=g=>Q.value=g),focused:"",value:a(i).purchase_activated_at,label:"Toggle Purchase Activation",color:((n=a(i))==null?void 0:n.purchase_activated_at)!==null?"":"secondary",onInput:t[22]||(t[22]=g=>{var V;return a(Ve)((V=a(i))==null?void 0:V.id)})},null,8,["modelValue","value","color"])]}),_:1})]),_:1})])]),_:1})]),_:1},8,["modelValue"])],64)}}});var Na=Ke(ba,[["__scopeId","data-v-4d55de34"]]);export{Na as default};
