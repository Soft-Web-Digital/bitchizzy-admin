import{ak as i,al as t,f as n}from"./index.09a9e36e.js";const a=i.create({baseURL:"https://services-testapi.bitchizzy.com"});a.interceptors.request.use(async e=>{if(t.currentRoute.value.path!=="/auth/login"){const s=n();s.isAuthenticated()||(await t.push("/auth/login"),await s.ksbTechLogout())}return e});a.interceptors.response.use(function(e){return e},async function(e){if(e.response.data.message=="Unauthenticated."&&await t.push("/auth/login"),e.response.data.code==100)return Promise.reject(e);if(e.response.data.code==101&&e.response.data.message==="Access restricted. Second-factor authentication is required.")await t.push("/authentication/verify-two-fa");else return e.response.data.code==105||e.response.data.message==="Code is invalid.",Promise.reject(e)});export{a as k};
