import{a as U,r as s,f as w,s as $,o as j,j as S,w as o,b as a,a6 as y,a2 as A,u as V,a7 as _,e as c,ao as F,C as I,H as p,D as g,T as z,m as x,aN as D,i as H}from"./index.768fb5ed.js";import{a as L}from"./LogoDark.f097f318.js";const M={class:"pa-7 pa-sm-12"},Y=c("h2",{class:"font-weight-bold mt-4 text-center blue-grey--text text--darken-2"}," Create new password ",-1),E=c("p",{class:"text-subtitle-1 text-center text-grey-darken-1"}," Your new password must be different from your previous used passwords. ",-1),G=x("Submit"),J=x("Back to login"),W=U({__name:"index",setup(K){s(!1);const f=s(!0),b=s(null),n=s(!1),u=s(""),C=D(),i=s(""),r=s(""),k=s([l=>!!l||"Reset code is required"]),R=s([l=>!!l||"Password is required"]),h=s([l=>!!l||"Password is required"]),{ksbTechResetPassword:q,ksbTechVerifyCode:B,email:P}=w(),{loginLoading:m}=$(w()),T=()=>C.back(),N=async()=>{const l={code:r.value,email:P,password:u.value,password_confirmation:i.value};await B(r.value).then(async()=>{await q(l)})},d=s(!1);return(l,e)=>{const v=H("center");return j(),S(z,{id:"login",class:"fill-height justify-center",tag:"section"},{default:o(()=>[a(_,{justify:"center",class:"h-100vh",align:"center"},{default:o(()=>[a(y,{lg:"5",sm:"8",xl:"7"},{default:o(()=>[a(A,{loading:V(m),class:"elevation-4"},{default:o(()=>[a(_,null,{default:o(()=>[a(y,{lg:"12"},{default:o(()=>[c("div",M,[a(v,null,{default:o(()=>[a(L)]),_:1}),Y,E,a(F,{onSubmit:e[5]||(e[5]=I(t=>N(),["prevent"])),ref_key:"form",ref:b,modelValue:f.value,"onUpdate:modelValue":e[6]||(e[6]=t=>f.value=t),"lazy-validation":"",class:"my-5"},{default:o(()=>[a(p,{label:"Code",required:"",variant:"outlined",type:"text",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),rules:k.value},null,8,["modelValue","rules"]),a(p,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=t=>u.value=t),rules:R.value,label:"New password","append-inner-icon":n.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":e[2]||(e[2]=t=>n.value=!n.value),type:n.value?"text":"password",required:"",variant:"outlined"},null,8,["modelValue","rules","append-inner-icon","type"]),a(p,{modelValue:i.value,"onUpdate:modelValue":e[3]||(e[3]=t=>i.value=t),rules:h.value,label:"Confirm new password",required:"",variant:"outlined","append-inner-icon":d.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":e[4]||(e[4]=t=>d.value=!d.value),type:d.value?"text":"password"},null,8,["modelValue","rules","append-inner-icon","type"]),a(g,{loading:V(m),color:"secondary",block:"",class:"mr-4",type:"submit"},{default:o(()=>[G]),_:1},8,["loading"])]),_:1},8,["modelValue"]),a(v,null,{default:o(()=>[a(g,{onClick:T,"prepend-icon":"mdi-arrow-left",color:"transparent",flat:""},{default:o(()=>[J]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})}}});export{W as default};
