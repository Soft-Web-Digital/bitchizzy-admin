import{a as ge,s as w,f as ye,r as _,h as be,as as xe,o as c,c as m,b as t,e,u as n,j as C,w as l,a2 as $,t as i,x as r,a6 as S,O as z,a7 as U,aj as Ve,ak as B,al as ke,at as he,F as ee,k as te,au as se,ar as le,av as Ce,D as N,ag as De,M as ne,m as v,aq as Ae,a9 as oe,a1 as je,T as Te,aw as $e,ax as Ne,i as We,N as Fe,q as Me,V as qe,p as I,v as P}from"./index.768fb5ed.js";import{u as ae}from"./withdrawals.b90a1d2f.js";import{_ as Se}from"./BaseBreadcrumb.1d2d0308.js";import{u as ue}from"./index.bb23e1de.js";/* empty css                                                       */const Ue={class:"mt-4"},Be=e("div",{class:""},[e("h4",null,"Total earnings")],-1),Ee={key:0,class:"mt-11"},Le={class:"mb-2"},Re=e("span",null,"All time",-1),Ye={class:"ml-16 d-flex align-center justify-space-between w-100"},ze={class:"d-flex align-start justify-start flex-column w-100"},Ie={key:0,class:"pl-3 my-5"},Pe={class:"mb-2"},Ge=e("span",null,"Successful",-1),Oe={class:"d-flex align-start justify-start flex-column w-100 flex-grow-1"},He={key:0,class:"pl-3 my-5"},Je={class:"mb-2"},Ke=e("span",null,"pending",-1),Qe={class:"d-flex align-start justify-start flex-column w-100 flex-grow-1"},Xe={key:0,class:"pl-3 my-5"},Ze={class:"mb-2"},we=e("span",null,"Failed",-1),et=v("All"),tt=v("Pending"),st=v("Approved"),lt=v("Declined"),nt={key:0},ot={class:"font-weight-bold"},at=["onClick"],ut=v(" View Details "),it=v(" Approve Withdrawal Request "),ct=v(" Decline Withdrawal Request "),dt={key:1,class:"text-center py-6"},rt={class:"mb-3 d-flex justify-space-between"},_t=e("h3",{class:"text-justify mt-7"},"Withdrawal request details",-1),mt={class:"my-3"},ft={key:0,class:"w-100 d-flex align-center justify-space-between"},vt={class:"mb-4"},pt=e("h5",null,"Wallet balance",-1),gt={class:"font-weight-bold"},yt={class:"mb-4"},bt=e("h5",{class:""},"User name",-1),xt={class:""},Vt={class:"mb-4"},kt=e("h5",{class:""},"Email address",-1),ht={class:""},Ct={class:"mb-4"},Dt=e("h5",{class:""},"Date & time",-1),At={class:""},jt={class:"mb-4"},Tt=e("h5",null,"Amount",-1),$t={class:"font-weight-bold"},Nt={class:"mb-4"},Wt=e("h5",{class:""},"Bank name",-1),Ft={class:""},Mt={class:"mb-4"},qt=e("h5",{class:""},"Account name",-1),St={class:""},Ut={class:"mb-4"},Bt=e("h5",{class:""},"Account number",-1),Et={class:""},Lt={key:2},Rt=v(" Disapprove request "),Yt=v(" Approve request "),zt=e("p",null,"Enter Reasons for Declining this withdrawal request",-1),It=v("Submit"),Zt=ge({__name:"all",setup(Pt){const{permissions:ie}=w(ye()),{getAllWithDrawals:g,approveRequest:G,declineRequest:ce,getSingleWithDrawals:Gt,filterWithDrawalsByDateCreated:Ot,getAllTransactionCount:de}=ae(),{withdrawals:E,loading:D,singleWithdrawal:f,dialog:h,disapproving:re,approving:_e,withdrawals_total:y}=w(ae()),W=_(""),F=_(!1),O=async()=>{await g(W.value,1),await de()};let H=_(null);be(()=>{O(),H.value=setInterval(O,12e4)}),xe(()=>{clearInterval(H.value)});const me=_({title:"Wallet Transactions"}),L=_(""),fe=_([{text:"Transactions",disabled:!1,href:"#"},{text:"Withdrawals",disabled:!0,href:"#"}]),ve=_([{title:"No."},{title:"Full name"},{title:"Amount (NGN)"},{title:"Account number"},{title:"Date and Time"},{title:"Status"},{title:"Actions"}]),pe=k=>new Intl.NumberFormat().format(k),J=_(""),K=()=>{h.value==!0&&(h.value=!1),F.value=!0};_(["Pending","Completed","Declined"]);const Q=k=>k=="pending"?"yellow-darken-3":k=="completed"?"green lighten-3":k=="declined"?"red lighten-3":"",R=_(!1),A=_(1);_("");const M=_(null);return(k,o)=>{var X,Z;const Y=We("vue-feather");return c(),m("div",null,[t(Se,{title:me.value.title,breadcrumbs:fe.value},null,8,["title","breadcrumbs"]),e("div",Ue,[((X=n(ie))==null?void 0:X.length)==18?(c(),C(U,{key:0,class:"my-3"},{default:l(()=>[t(S,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t($,{elevation:"0",class:"pa-6 h-100"},{default:l(()=>{var a;return[Be,((a=n(y))==null?void 0:a.length)>0?(c(),m("div",Ee,[e("h2",Le," \u20A6\u200E"+i(pe(n(y)[0].total_completed_transactions_amount)),1),Re])):r("",!0)]}),_:1})]),_:1}),t(S,{cols:"12",sm:"6",md:"8"},{default:l(()=>[t($,{elevation:"0",class:"py-4 px-2"},{default:l(()=>{var a,d,u;return[e("div",Ye,[e("div",ze,[t(z,{color:"#e5fafb",size:"x-large"},{default:l(()=>[t(Y,{type:"check-circle",class:"text-dark text-success"})]),_:1}),((a=n(y))==null?void 0:a.length)>0?(c(),m("div",Ie,[e("h2",Pe,i(n(y)[0].total_completed_transactions_count),1),Ge])):r("",!0)]),e("div",Oe,[t(z,{color:"#FFF9C4",size:"x-large"},{default:l(()=>[t(Y,{type:"bar-chart",class:"text-dark text-primary"})]),_:1}),((d=n(y))==null?void 0:d.length)>0?(c(),m("div",He,[e("h2",Je,i(n(y)[0].total_pending_transactions_count),1),Ke])):r("",!0)]),e("div",Qe,[t(z,{color:"#FFCCBC",size:"x-large"},{default:l(()=>[t(Y,{type:"x-circle",class:"text-dark text-error"})]),_:1}),((u=n(y))==null?void 0:u.length)>0?(c(),m("div",Xe,[e("h2",Ze,i(n(y)[0].total_declined_transactions_count),1),we])):r("",!0)])])]}),_:1})]),_:1})]),_:1})):r("",!0),t($,{class:"pa-5"},{default:l(()=>{var a,d;return[t(Ve,{modelValue:M.value,"onUpdate:modelValue":o[4]||(o[4]=u=>M.value=u),"bg-color":"none",class:"mb-5"},{default:l(()=>[t(B,{onClick:o[0]||(o[0]=u=>n(g)(""))},{default:l(()=>[et]),_:1}),t(B,{onClick:o[1]||(o[1]=u=>n(g)("pending"))},{default:l(()=>[tt]),_:1}),t(B,{onClick:o[2]||(o[2]=u=>n(g)("completed"))},{default:l(()=>[st]),_:1}),t(B,{onClick:o[3]||(o[3]=u=>n(g)("declined"))},{default:l(()=>[lt]),_:1})]),_:1},8,["modelValue"]),t(ke,{modelValue:M.value,"onUpdate:modelValue":o[5]||(o[5]=u=>M.value=u)},{default:l(()=>[t(he,null,{default:l(()=>{var u;return[e("thead",null,[e("tr",null,[(c(!0),m(ee,null,te(ve.value,(s,p)=>(c(),m("th",{key:p,class:"text-left font-weight-bold"},i(s.title),1))),128))])]),n(D)==!1?(c(),m("tbody",nt,[(c(!0),m(ee,null,te((u=n(E))==null?void 0:u.data,(s,p)=>{var b,x,V,j,T;return c(),m("tr",{class:"pa-3",key:s==null?void 0:s.id},[e("td",null,i(p+1),1),e("td",ot,[e("span",{onClick:q=>k.$router.push({name:"UserDetails",params:{id:s==null?void 0:s.user_id}}),class:"text-capitalize username"},i((x=(b=s==null?void 0:s.user)==null?void 0:b.firstname)!=null?x:"---")+" "+i((j=(V=s==null?void 0:s.user)==null?void 0:V.lastname)!=null?j:"---"),9,at)]),e("td",null,"\u20A6\u200E "+i(s.amount.toLocaleString()),1),e("td",null,i((T=s==null?void 0:s.account_number)!=null?T:"---"),1),e("td",null,i(n(ue)(s==null?void 0:s.created_at,"DD, MMMM-YYYY").value),1),e("td",null,[t(ne,{label:"",class:"text-capitalize font-weight-bold pa-3",color:Q(s==null?void 0:s.status)},{default:l(()=>[v(i(s==null?void 0:s.status),1)]),_:2},1032,["color"])]),e("td",null,[t(U,{justify:"center"},{default:l(()=>[t(Fe,{transition:"scroll-y-transition"},{activator:l(({props:q})=>[t(N,Me({text:"",icon:"mdi-dots-vertical",color:"transparent",class:"ma-2"},q),null,16)]),default:l(()=>[t(qe,null,{default:l(()=>[t(I,{to:{name:"viewWithdrawals",params:{id:s.id}},link:"",color:"secondary"},{default:l(()=>[t(P,null,{default:l(()=>[ut]),_:1})]),_:2},1032,["to"]),(s==null?void 0:s.status)=="pending"?(c(),C(I,{key:0,onClick:q=>n(G)(s==null?void 0:s.id),link:"",color:"secondary"},{default:l(()=>[t(P,null,{default:l(()=>[it]),_:1})]),_:2},1032,["onClick"])):r("",!0),(s==null?void 0:s.status)=="pending"?(c(),C(I,{key:1,onClick:q=>{J.value=s==null?void 0:s.id,K()},link:"",color:"secondary"},{default:l(()=>[t(P,null,{default:l(()=>[ct]),_:1})]),_:2},1032,["onClick"])):r("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)])])}),128))])):r("",!0)]}),_:1})]),_:1},8,["modelValue"]),n(D)==!0?(c(),C(le,{key:0,class:"align-center justify-center w-100 my-5"},{default:l(()=>[t(se,{indeterminate:""})]),_:1})):r("",!0),n(D)==!1&&((d=(a=n(E))==null?void 0:a.data)==null?void 0:d.length)<=0?(c(),m("p",dt," No data available ")):r("",!0)]}),_:1}),t(Ce,{modelValue:A.value,"onUpdate:modelValue":[o[6]||(o[6]=a=>A.value=a),o[9]||(o[9]=a=>n(g)(W.value,A.value))],length:(Z=n(E))==null?void 0:Z.last_page,onNext:o[7]||(o[7]=a=>n(g)(W.value,A.value)),onPrev:o[8]||(o[8]=a=>n(g)(W.value,A.value)),"active-color":"red",start:1,variant:"flat",class:"mt-5",color:"bg-secondary",rounded:"circle"},null,8,["modelValue","length"])]),t(oe,{modelValue:n(h),"onUpdate:modelValue":o[12]||(o[12]=a=>Ae(h)?h.value=a:null),"max-width":"429px","min-height":"476px"},{default:l(()=>[t($,{class:"view-dialog pa-4"},{default:l(()=>{var a;return[e("div",rt,[_t,t(N,{onClick:o[10]||(o[10]=d=>h.value=!1),icon:"mdi-close",color:"secondary",variant:"text"},{default:l(()=>[t(De,{icon:"mdi-close"})]),_:1})]),e("div",mt,[e("div",null,[t(ne,{label:"",size:"small",density:"comfortable",class:"text-capitalize font-weight-bold pa-3",color:Q((a=n(f))==null?void 0:a.status)},{default:l(()=>{var d;return[v(i((d=n(f))==null?void 0:d.status),1)]}),_:1},8,["color"])])]),R.value==!1&&n(D)==!1?(c(),m("div",ft,[t(U,{align:"center",justify:"center","no-gutters":"",class:"w-100 align-center justify-space-between"},{default:l(()=>[t(S,{class:"pa-0"},{default:l(()=>{var d,u,s,p,b,x,V;return[e("div",vt,[e("div",null,[pt,e("p",gt," \u20A6\u200E"+i((u=(d=n(f))==null?void 0:d.user)==null?void 0:u.wallet_balance.toLocaleString()),1)])]),e("div",yt,[e("div",null,[bt,e("p",xt,i((p=(s=n(f))==null?void 0:s.user)==null?void 0:p.firstname),1)])]),e("div",Vt,[e("div",null,[kt,e("p",ht,i((x=(b=n(f))==null?void 0:b.user)==null?void 0:x.email),1)])]),e("div",Ct,[e("div",null,[Dt,e("p",At,i(n(ue)((V=n(f))==null?void 0:V.created_at,"DD, MMMM-YYYY").value),1)])])]}),_:1})]),_:1}),t(U,{align:"center",justify:"center","no-gutters":"",class:"w-100 align-center justify-space-between ml-5"},{default:l(()=>[t(S,{class:"pa-0"},{default:l(()=>{var d,u,s,p,b,x,V,j,T;return[e("div",jt,[e("div",null,[Tt,e("p",$t," \u20A6\u200E"+i((u=(d=n(f))==null?void 0:d.amount)==null?void 0:u.toLocaleString()),1)])]),e("div",Nt,[e("div",null,[Wt,e("p",Ft,i((b=(p=(s=n(f))==null?void 0:s.bank)==null?void 0:p.name)!=null?b:"No data"),1)])]),e("div",Mt,[e("div",null,[qt,e("p",St,i((V=(x=n(f))==null?void 0:x.account_name)!=null?V:"No data"),1)])]),e("div",Ut,[e("div",null,[Bt,e("p",Et,i((T=(j=n(f))==null?void 0:j.account_number)!=null?T:"No data"),1)])])]}),_:1})]),_:1})])):r("",!0),R.value==!0||n(D)==!0?(c(),C(le,{key:1,class:"align-center justify-center w-100 my-10"},{default:l(()=>[t(se,{indeterminate:""})]),_:1})):r("",!0),n(f).status=="pending"&&R.value==!1?(c(),m("div",Lt,[t(N,{onClick:K,class:"wallet-btn",variant:"outlined",color:"error",loading:n(re)},{default:l(()=>[Rt]),_:1},8,["loading"]),t(N,{onClick:o[11]||(o[11]=d=>{var u;return n(G)((u=n(f))==null?void 0:u.id)}),class:"wallet-btn ml-4",color:"secondary",loading:n(_e)},{default:l(()=>[Yt]),_:1},8,["loading"])])):r("",!0)]}),_:1})]),_:1},8,["modelValue"]),t(Ne,null,{default:l(()=>[F.value?(c(),C(oe,{key:0,modelValue:F.value,"onUpdate:modelValue":o[15]||(o[15]=a=>F.value=a),activator:"parent","max-width":"500px",width:"auto"},{default:l(()=>[t($,null,{default:l(()=>[t(je,null,{default:l(()=>[zt]),_:1}),t(Te,{class:"mt-7"},{default:l(()=>[t($e,{label:"Comments",modelValue:L.value,"onUpdate:modelValue":o[13]||(o[13]=a=>L.value=a),variant:"outlined"},null,8,["modelValue"]),t(N,{color:"secondary",class:"my-5",block:"",onClick:o[14]||(o[14]=a=>n(ce)(J.value,L.value))},{default:l(()=>[It]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):r("",!0)]),_:1})])}}});export{Zt as default};
