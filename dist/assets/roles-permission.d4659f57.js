import{a as X,s as J,r as v,h as K,o as r,c as a,b as l,w as s,aj as O,ak as N,a1 as Q,al as Z,am as P,e as o,D as C,at as T,F as y,k as x,u as t,x as f,j as I,au as U,ar as Y,a9 as ee,aq as le,a2 as j,t as u,ao as te,H as se,aw as oe,aX as ne,m as V,a7 as ie,N as re,q as ue,V as ae,p as A,v as S,a3 as de,a4 as me}from"./index.768fb5ed.js";import{u as B}from"./roles-permissions.5b8afde0.js";import{_ as ce}from"./plugin-vue_export-helper.21dcd24c.js";import{u as F}from"./index.bb23e1de.js";import"./user.d123a8e9.js";import"./filedownloader.f3cc1d55.js";import"./country.c0fb87bf.js";const pe=g=>(de("data-v-f5a35fb6"),g=g(),me(),g),_e=pe(()=>o("h2",{class:"my-5"},"Roles and Permissions",-1)),fe=V("All Roles"),Ve=V("All Permissions"),ve={class:"d-flex justify-end w-100"},ye=V("Create a Role"),ge={key:0},ke={class:"text-capitalize font-weight-bold"},he=V(" Update Role "),be=V(" Delete Role "),xe={key:1,class:"text-center py-6"},we={key:0},Re={class:"text-capitalize font-weight-bold"},Ce={key:1,class:"text-center py-6"},De=V("Submit"),Me=X({__name:"roles-permission",setup(g){const{getAllRoles:L,getAllPermissions:$,createRole:q,updateRole:z,deleteRole:G}=B(),{roles:w,permissions:k,loading:p,dialog:h,role:d}=J(B()),b=v(null),W=v([{title:"No."},{title:"name"},{title:"Permission count"},{title:"Description"},{title:"Date created"},{title:"Actions"}]),E=v([{title:"No."},{title:"name"},{title:"Guard name"},{title:"Group name"},{title:"Description"},{title:"Date created"}]);K(async()=>{await L(),await $()});const D=v(!1),M=v("Create Role"),H=m=>{d.value={id:m.id,name:m.name,guard_name:m.guard_name,description:m.description,users_count:m.users_count,permissions:m.permissions,permission_id:m.permissions.map(n=>n.id)},M.value="Update Role",h.value=!0,D.value=!0};return(m,n)=>(r(),a(y,null,[_e,l(j,null,{default:s(()=>[l(O,{modelValue:b.value,"onUpdate:modelValue":n[0]||(n[0]=i=>b.value=i),"bg-color":"secondary"},{default:s(()=>[l(N,{value:"one"},{default:s(()=>[fe]),_:1}),l(N,{value:"two"},{default:s(()=>[Ve]),_:1})]),_:1},8,["modelValue"]),l(Q,null,{default:s(()=>[l(Z,{modelValue:b.value,"onUpdate:modelValue":n[2]||(n[2]=i=>b.value=i)},{default:s(()=>[l(P,{value:"one"},{default:s(()=>{var i;return[o("div",ve,[l(C,{onClick:n[1]||(n[1]=_=>m.$router.push("/roles/create-role")),color:"secondary"},{default:s(()=>[ye]),_:1})]),l(T,null,{default:s(()=>{var _;return[o("thead",null,[o("tr",null,[(r(!0),a(y,null,x(W.value,(e,c)=>(r(),a("th",{key:c,class:"text-left font-weight-bold"},u(e.title),1))),128))])]),t(p)==!1&&((_=t(w))==null?void 0:_.length)>0?(r(),a("tbody",ge,[(r(!0),a(y,null,x(t(w),(e,c)=>(r(),a("tr",{class:"pa-3",key:e==null?void 0:e.id},[o("td",null,u(c+1),1),o("td",ke,u(e==null?void 0:e.name),1),o("td",null,u(e==null?void 0:e.permissions.length),1),o("td",null,u(e==null?void 0:e.description),1),o("td",null,u(t(F)(e==null?void 0:e.created_at,"DD, MMMM-YYYY").value),1),o("td",null,[l(ie,{justify:"center"},{default:s(()=>[l(re,{transition:"scroll-y-transition"},{activator:s(({props:R})=>[l(C,ue({text:"",icon:"mdi-dots-vertical",color:"transparent",class:"ma-2"},R),null,16)]),default:s(()=>[l(ae,null,{default:s(()=>[l(A,{onClick:R=>H(e),link:"",color:"secondary"},{default:s(()=>[l(S,null,{default:s(()=>[he]),_:1})]),_:2},1032,["onClick"]),l(A,{onClick:R=>t(G)(e==null?void 0:e.id),link:"",color:"secondary"},{default:s(()=>[l(S,null,{default:s(()=>[be]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))])):f("",!0)]}),_:1}),t(p)==!0?(r(),I(Y,{key:0,class:"align-center justify-center w-100 my-5"},{default:s(()=>[l(U,{indeterminate:""})]),_:1})):f("",!0),t(p)==!1&&((i=t(w))==null?void 0:i.length)<=0?(r(),a("p",xe," No data available ")):f("",!0)]}),_:1}),l(P,{value:"two"},{default:s(()=>{var i;return[l(T,null,{default:s(()=>{var _;return[o("thead",null,[o("tr",null,[(r(!0),a(y,null,x(E.value,(e,c)=>(r(),a("th",{key:c,class:"text-left font-weight-bold"},u(e.title),1))),128))])]),((_=t(k))==null?void 0:_.length)>0?(r(),a("tbody",we,[(r(!0),a(y,null,x(t(k),(e,c)=>(r(),a("tr",{class:"pa-3",key:e==null?void 0:e.id},[o("td",null,u(c+1),1),o("td",Re,u(e==null?void 0:e.name),1),o("td",null,u(e==null?void 0:e.guard_name),1),o("td",null,u(e==null?void 0:e.group_name),1),o("td",null,u(e==null?void 0:e.description),1),o("td",null,u(t(F)(e==null?void 0:e.created_at,"DD, MMMM-YYYY").value),1)]))),128))])):f("",!0)]}),_:1}),t(p)==!0?(r(),I(Y,{key:0,class:"align-center justify-center w-100 my-5"},{default:s(()=>[l(U,{indeterminate:""})]),_:1})):f("",!0),t(p)==!1&&((i=t(k))==null?void 0:i.length)<=0?(r(),a("p",Ce," No data available ")):f("",!0)]}),_:1})]),_:1},8,["modelValue"])]),_:1}),l(ee,{modelValue:t(h),"onUpdate:modelValue":n[7]||(n[7]=i=>le(h)?h.value=i:null),"max-width":"500px"},{default:s(()=>[l(j,{class:"pa-4"},{default:s(()=>[o("h3",null,u(M.value),1),l(te,{class:"mt-8 py-8"},{default:s(()=>[l(se,{modelValue:t(d).name,"onUpdate:modelValue":n[3]||(n[3]=i=>t(d).name=i),label:"Name",variant:"outlined"},null,8,["modelValue"]),l(oe,{modelValue:t(d).description,"onUpdate:modelValue":n[4]||(n[4]=i=>t(d).description=i),label:"Description",variant:"outlined"},null,8,["modelValue"]),l(ne,{modelValue:t(d).permission_id,"onUpdate:modelValue":n[5]||(n[5]=i=>t(d).permission_id=i),variant:"outlined",label:"Permissions","item-title":"name",multiple:"",chips:"","item-value":"id",items:t(k)},null,8,["modelValue","items"]),l(C,{loading:t(p),color:"secondary",block:"",onClick:n[6]||(n[6]=i=>D.value==!0?t(z)(t(d)):t(q)(t(d)))},{default:s(()=>[De]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})],64))}});var Ae=ce(Me,[["__scopeId","data-v-f5a35fb6"]]);export{Ae as default};
