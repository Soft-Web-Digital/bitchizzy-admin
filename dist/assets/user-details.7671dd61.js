import{a as Yt,s as ce,r as m,am as we,h as Mt,o as i,c as r,b as t,w as l,ai as ke,D as A,e,O as St,u as a,j as V,P as It,t as d,m as p,an as Re,ao as F,a2 as x,aq as E,a7 as Q,a6 as q,aF as je,aC as Be,a1 as G,M as P,H as _e,aH as Ve,ax as pe,F as N,k as Y,x as g,ay as $e,av as Fe,az as Ee,aW as wt,ap as Pe,au as Z,a9 as ee,as as We,aA as qe,af as Rt,aB as jt,a8 as Bt,I as $t,T as Ft,aX as Et,aG as Pt,N as xe,q as Ae,V as Ce,p as M,v as S,a3 as Wt,a4 as qt}from"./index.09a9e36e.js";import{u as Ge,_ as Le,a as Je,b as Ke}from"./uploadImage.cddb4d11.js";import{u as ze}from"./user.7809a3f7.js";import{u as He}from"./asset.ef81bb47.js";import{u as Oe}from"./giftcard.06a76fe9.js";import{u as Xe}from"./withdrawals.6484bb7b.js";import{_ as Gt}from"./plugin-vue_export-helper.21dcd24c.js";import{w as Lt,u as j}from"./index.11c402df.js";import"./axios-services.17ccf49f.js";import"./filedownloader.f3cc1d55.js";import"./country.9f13e2ad.js";const c=te=>(Wt("data-v-2cb9092f"),te=te(),qt(),te),zt=p(" Users "),Ht={class:"w-100"},Ot=c(()=>e("div",{class:"w-100",style:{height:"150px","background-color":"#34384f"}},null,-1)),Xt={style:{"margin-top":"-60px"},class:"d-flex align-center justify-center flex-column w-100"},Jt={key:1,class:"text-h5 text-uppercase"},Kt={class:"d-flex align-center justify-space-between mt-8"},Qt={class:"my-4 ml-4"},Zt=c(()=>e("strong",null,"Wallet balance:",-1)),el=p(" \u20A6"),tl=p("Finance user"),ll=p("User Information"),al=p("Asset"),sl=p("Giftcard"),ol=p("Wallet"),nl=p("Referrals"),dl=p("User Information"),ul={class:"mb-4"},il={class:"mb-5"},rl=c(()=>e("strong",null,"Username: ",-1)),cl={class:"ml-2"},_l={class:"mb-5"},pl=c(()=>e("strong",null,"Email:",-1)),fl={class:"ml-2"},vl={class:"mb-5"},ml=c(()=>e("strong",null,"Phone number:",-1)),yl={class:"ml-2"},gl={class:"mb-5"},hl=c(()=>e("strong",null,"Wallet balance:",-1)),bl=c(()=>e("strong",null,"Created:",-1)),kl={class:"ml-2"},Vl=p("Other Information"),xl={class:"mb-4"},Al=c(()=>e("strong",null,"Email verified at:",-1)),Cl={key:0,class:"ml-3"},Dl={key:1,class:"ml-3"},Tl={class:"mb-5"},Ul=c(()=>e("strong",null,"2FA activated at: ",-1)),Nl={key:0,class:"ml-2"},Yl={key:1,class:"ml-3"},Ml={class:"mb-5"},Sl=c(()=>e("strong",null,"Transaction pin set: ",-1)),Il={class:"mb-5"},wl=c(()=>e("strong",null,"Transaction pin activated at: ",-1)),Rl={key:0,class:"ml-2"},jl={key:1,class:"ml-3"},Bl={class:"mb-5"},$l=c(()=>e("strong",null,"Deleted at: ",-1)),Fl={key:0,class:"ml-2"},El={key:1,class:"ml-3"},Pl=c(()=>e("strong",null,"Reason for deletion: ",-1)),Wl={class:"ml-2"},ql=c(()=>e("h4",null,"Filter Options:",-1)),Gl={key:0},Ll=p(" View Details "),zl=p(" Approve Request "),Hl=p(" Decline Request "),Ol={key:0,class:"font-weight-bold text-center my-3"},Xl=p(" Approve giftcard "),Jl=p(" Partial approval "),Kl=p(" Decline giftcard "),Ql={key:1,class:"font-weight-bold text-center my-3"},Zl={key:0},ea=p(" View Details "),ta=p(" Approve Withdrawal Request "),la=p(" Decline Withdrawal Request "),aa={key:0},sa=c(()=>e("h3",{class:"text-center my-3"},"Asset transactions details",-1)),oa=p("First view"),na=p("Second view"),da={class:"d-flex align-center justify-space-between"},ua=c(()=>e("h4",null,"Account name",-1)),ia=c(()=>e("h4",null,"Account number",-1)),ra={class:"d-flex align-center justify-space-between my-5"},ca=c(()=>e("h4",null,"Reference",-1)),_a=c(()=>e("h4",null,"Account number",-1)),pa={class:"d-flex align-center justify-space-between my-5"},fa=c(()=>e("h4",null,"Status",-1)),va={class:"mr-2"},ma=c(()=>e("h4",null,"Payable amount",-1)),ya={class:"d-flex align-center justify-space-between my-5"},ga=c(()=>e("h4",null,"Asset amount",-1)),ha={class:"mr-4"},ba=c(()=>e("h4",null,"Service charge",-1)),ka={class:"my-5"},Va={key:0,class:"d-flex align-center justify-between w-100"},xa=c(()=>e("p",null,"Transaction Receipts",-1)),Aa=p("View reciept"),Ca={key:2,class:"text-center py-4"},Da={class:"d-flex align-center justify-space-between"},Ta=c(()=>e("h4",null,"Comments",-1)),Ua=c(()=>e("h4",null,"Selling rate",-1)),Na={class:"d-flex align-center justify-space-between my-5"},Ya=c(()=>e("h4",null,"Wallet address",-1)),Ma=c(()=>e("h4",null,"Trade type",-1)),Sa={class:"d-flex align-center justify-space-between my-5"},Ia=c(()=>e("h4",null,"Buying rate",-1)),wa=c(()=>e("h4",null,"Asset Short Code",-1)),Ra=c(()=>e("h3",null,"Finance User",-1)),ja=p("Submit"),Ba={class:"mb-3 d-flex justify-space-between"},$a=c(()=>e("h3",{class:"text-justify mt-7"},"Partial approval",-1)),Fa=c(()=>e("label",{for:"proof",class:"cursor-pointer"},[e("p",{class:"text-black"},"Upload transaction proof")],-1)),Ea={key:0,for:"proof",class:"cursor-pointer"},Pa=c(()=>e("img",{src:Je,alt:"card-placeholder",class:"mt-3 w-full object-fill max-h-[174px] rounded-xl"},null,-1)),Wa=[Pa],qa={class:"gap-5 mt-5",style:{display:"grid","grid-template-columns":"repeat(4, 80px)",gap:"12px"}},Ga={style:{position:"relative"}},La=["src"],za=["onClick"],Ha={key:1,class:"pt-3 text-center"},Oa={class:"p-2 block"},Xa={key:2,for:"proof",class:"mt-4 d-flex align-center cursor-pointer"},Ja=c(()=>e("img",{src:Ke,alt:"plus icon"},null,-1)),Ka=c(()=>e("p",{class:"ml-3 underline"},"Add more proof",-1)),Qa=[Ja,Ka],Za=p("submit"),es=p(" Confirm "),ts=p("Cancel"),ls=p("Yes"),as=c(()=>e("h3",null,"Decline Request",-1)),ss=c(()=>e("p",null,"Enter Reasons for Declining this withdrawal request",-1)),os=c(()=>e("label",{for:"proof",class:"cursor-pointer"},[e("p",{class:"text-black"},"Upload transaction proof")],-1)),ns={key:0,for:"proof",class:"cursor-pointer"},ds=c(()=>e("img",{src:Je,alt:"card-placeholder",class:"mt-3 w-full object-fill max-h-[174px] rounded-xl"},null,-1)),us=[ds],is={class:"gap-5 mt-5",style:{display:"grid","grid-template-columns":"repeat(4, 80px)",gap:"12px"}},rs={style:{position:"relative"}},cs=["src"],_s=["onClick"],ps={key:1,class:"pt-3 text-center"},fs={class:"p-2 block"},vs={key:2,for:"proof",class:"mt-4 d-flex align-center cursor-pointer"},ms=c(()=>e("img",{src:Ke,alt:"plus icon"},null,-1)),ys=c(()=>e("p",{class:"ml-3 underline"},"Add more proof",-1)),gs=[ms,ys],hs=p("Submit"),bs=Yt({__name:"user-details",setup(te){const{getUsers:ks,restoreUsers:Vs,blockUsers:Qe,getUser:De,financeUsers:Ze,getAllReferralsByUserID:et}=ze(),{user:xs,filterUserById:Te,single_user:v,dialog2:le,referrals:tt}=ce(ze()),{allTransactions:ae,loading:I,dialog:fe}=ce(He()),{getAllAssetTransactionsByUserId:lt,declineAssetTransactions:at,approveAssetTransactions:st,getSingleAssetTransactions:As,getAllAssetTransactionByDate:ot,getAllAssetTransactionByReference:nt,getAllAssetTransactionsStatus:dt,getAllAssetTransactionByTradeType:ut,filterAllAssetTransactionsByUserId:ve,single_transactions:h}=He(),{gift_transactions:se,dialog3:L,approving:it,declining:rt}=ce(Oe()),{getAllGiftCardTransaction:Cs,declineRequest:ct,approveRequest:Ue,filterAllGiftCardTransactionByUserId:z,partialApproveRequest:_t}=Oe(),{withdrawals:pt}=ce(Xe()),{getAllWithDrawalsByUserID:ft}=Xe(),oe=m(null),ne=m(null),w=Pt(),vt=f=>new Intl.NumberFormat().format(f),mt=f=>f==="partially_approved"?"Partial":f,H=we({type:"Select",amount:""}),Ne=m([]);m(""),m(""),m(""),m("");const U=m(1),me=m(""),Ye=m(""),de=m(""),Me=m(""),Se=m("");let ue=m(!1),W=m(1),ie=m(1);const O=m(!1),yt=()=>{Lt(de,async()=>{await nt(de.value)},{debounce:1e3,maxWait:5e3})},gt=async f=>{await Qe(f),await De(w.params.id),Ne.value={...Te.value(w.params.id)}},ye=m("");Mt(async()=>{await et(w.params.id),await lt(w.params.id),await De(w.params.id),Ne.value={...Te.value(w.params.id)},await z(w.params.id),await ft(w.params.id)});const ht=m([{title:"No."},{title:"Category"},{title:"Reference No."},{title:"Trade Type."},{title:"Amount"},{title:"Date"},{title:"Status"},{title:"Actions"}]),bt=m([{title:"No."},{title:"Amount (NGN)"},{title:"Account number"},{title:"Date and Time"},{title:"Status"},{title:"Actions"}]),kt=m([{title:"No."},{title:"Amount (NGN)"},{title:"Name"},{title:"Email"},{title:"Date and Time"},{title:"Status"}]),Vt=m([{title:"No"},{title:"Reference No."},{title:"Amount"},{title:"Date"},{title:"Trade Type"},{title:"Status"},{title:"Actions"}]),R=m(!1);let C=m("");const re=m(""),ge=m([]),D=m([]),B=we({review_amount:"",review_note:"",review_proof:[]}),xt=f=>{ue.value=!0;let o=f.length,n=0;if(event){for(ie.value=f.length;o--;)Ge(f[n]).then(s=>{W.value++,D.value.push(s.secure_url),ge.value.push(s.secure_url)}),n++;W.value=0}},At=(f,o)=>{D.value=D.value.filter(n=>n!==f),B.review_proof.splice(o,1)},Ct=(f,o)=>{D.value=D.value.filter(n=>n!==f),ge.value.splice(o,1)},Dt=f=>{ue.value=!0;let o=f.length;console.log(f);let n=0;if(event){for(ie.value=f.length;o--;)Ge(f[n]).then(s=>{W.value++,D.value.push(s.secure_url),B.review_proof.push(s.secure_url)}),n++;W.value=0}},he=(f,o)=>{R.value=!0,C.value=o,re.value=f},Tt=async f=>{f=="approve"?(await Ue(C.value),await z(w.params.id),R.value=!1):f=="decline"?(ct(C.value,me.value,ge.value),R.value=!1):f=="partial"&&(_t(C.value,B),R.value=!1),R.value=!1},X=f=>f=="pending"?"yellow-darken-3":f=="approved"?"green lighten-3":f=="declined"?"red lighten-3":"",Ut=f=>f==!0?"green-darken-3":"red-darken-3",Nt=f=>f?"red-darken-3":"green-darken-3";return(f,o)=>(i(),r("div",null,[t(A,{class:"mb-2",link:"",size:"large",variant:"plain",color:"grey-darken-4",to:{name:"Users"}},{default:l(()=>[t(ke,{start:"",icon:"mdi-arrow-left"}),zt]),_:1}),t(x,{rounded:"1"},{default:l(()=>[e("div",Ht,[Ot,e("div",Xt,[t(St,{color:"secondary",size:80,class:"my-4 position-relative"},{default:l(()=>[a(v).avatar!==null&&a(v).avatar!==""?(i(),V(It,{key:0,cover:"",src:a(v).avatar},null,8,["src"])):(i(),r("span",Jt,d(a(v).email.slice(0,2)),1))]),_:1}),e("h3",null,d(a(v).firstname)+" "+d(a(v).lastname),1),e("p",null,d(a(v).email),1)])]),e("div",Kt,[e("div",Qt,[Zt,el,e("span",null,d(a(v).wallet_balance),1),t(A,{class:"ml-4",onClick:o[0]||(o[0]=n=>{var s;le.value=!0,ye.value=(s=a(v))==null?void 0:s.id})},{default:l(()=>[tl]),_:1}),t(A,{class:"ml-4",color:"error",onClick:o[1]||(o[1]=n=>{var s;return gt((s=a(v))==null?void 0:s.id)})},{default:l(()=>{var n;return[p(d(((n=a(v))==null?void 0:n.blocked_at)==null?"Block user":"Unblock user"),1)]}),_:1})]),t(Re,{modelValue:oe.value,"onUpdate:modelValue":o[2]||(o[2]=n=>oe.value=n)},{default:l(()=>[t(F,{value:"one",class:"font-weight-bold"},{default:l(()=>[ll]),_:1}),t(F,{value:"two",class:"font-weight-bold"},{default:l(()=>[al]),_:1}),t(F,{value:"three",class:"font-weight-bold"},{default:l(()=>[sl]),_:1}),t(F,{value:"four",class:"font-weight-bold"},{default:l(()=>[ol]),_:1}),t(F,{value:"five",class:"font-weight-bold"},{default:l(()=>[nl]),_:1})]),_:1},8,["modelValue"])])]),_:1}),t(Pe,{modelValue:oe.value,"onUpdate:modelValue":o[15]||(o[15]=n=>oe.value=n),class:"mt-8"},{default:l(()=>[t(E,{value:"one"},{default:l(()=>[t(Q,null,{default:l(()=>[t(q,{cols:"12",sm:"12",lg:"6"},{default:l(()=>[t(x,null,{default:l(()=>[t(je,{class:"ml-4 my-4"},{default:l(()=>[dl]),_:1}),t(Be),t(G,null,{default:l(()=>{var n,s;return[e("div",ul,[t(P,{label:"",color:Nt((n=a(v))==null?void 0:n.blocked_at)},{default:l(()=>{var y;return[p(d(((y=a(v))==null?void 0:y.blocked_at)==null?"Active":"Blocked"),1)]}),_:1},8,["color"])]),e("div",il,[rl,e("span",cl,d(a(v).username),1)]),e("div",_l,[pl,e("span",fl,d(a(v).email),1)]),e("div",vl,[ml,e("span",yl,d(a(v).phone_number),1)]),e("div",gl,[hl,e("span",null,d(a(v).wallet_balance),1)]),e("div",null,[bl,e("span",kl,d(a(j)((s=a(v))==null?void 0:s.created_at,"DD MMM YYYY-hh:mm a").value),1)])]}),_:1})]),_:1})]),_:1}),t(q,{cols:"12",sm:"12",lg:"6"},{default:l(()=>[t(x,null,{default:l(()=>[t(je,{class:"ml-4 my-4"},{default:l(()=>[Vl]),_:1}),t(Be),t(G,null,{default:l(()=>{var n;return[e("div",xl,[Al,a(v).email_verified_at?(i(),r("span",Cl,d(a(j)(a(v).email_verified_at,"DD MMM YYYY-hh:mm a").value),1)):(i(),r("span",Dl,"No data"))]),e("div",Tl,[Ul,a(v).two_fa_activated_at!==null?(i(),r("span",Nl,d(a(j)(a(v).two_fa_activated_at,"DD MMM YYYY-hh:mm a").value),1)):(i(),r("span",Yl,"No data"))]),e("div",Ml,[Sl,t(P,{color:Ut(a(v).transaction_pin_set),class:"ml-2"},{default:l(()=>[p(d(a(v).transaction_pin_set?"Activated":"Not activated"),1)]),_:1},8,["color"])]),e("div",Il,[wl,a(v).transaction_pin_activated_at!==null?(i(),r("span",Rl,d(a(j)(a(v).transaction_pin_activated_at,"DD, MMMM-YYYY").value),1)):(i(),r("span",jl,"No data"))]),e("div",Bl,[$l,a(v).deleted_at!==null?(i(),r("span",Fl,d(a(j)(a(v).deleted_at,"DD, MMMM-YYYY").value),1)):(i(),r("span",El,"No data"))]),e("div",null,[Pl,e("span",Wl,d((n=a(v).deleted_reason)!=null?n:"No data"),1)])]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(E,{value:"two"},{default:l(()=>{var n;return[t(x,{flat:"",rounded:"0",elevation:"0",class:"my-5 pa-4"},{default:l(()=>[ql,t(Q,{class:"mt-3"},{default:l(()=>[t(q,{cols:"12",sm:"6",md:"3"},{default:l(()=>[t(_e,{label:"Filter by reference",density:"compact",onBlur:yt,modelValue:de.value,"onUpdate:modelValue":o[3]||(o[3]=s=>de.value=s),variant:"outlined"},null,8,["modelValue"])]),_:1}),t(q,{cols:"12",sm:"6",md:"3"},{default:l(()=>[t(Ve,{label:"Filter by status",density:"compact","persistent-placeholder":!0,placeholder:"Select","onUpdate:modelValue":[a(dt),o[4]||(o[4]=s=>Ye.value=s)],modelValue:Ye.value,items:["Approved","Declined","Transferred","Pending"],variant:"outlined"},null,8,["onUpdate:modelValue","modelValue"])]),_:1}),t(q,{cols:"12",sm:"6",md:"3"},{default:l(()=>[t(Ve,{label:"Filter by trade type",density:"compact",placeholder:"Select","onUpdate:modelValue":[a(ut),o[5]||(o[5]=s=>Me.value=s)],modelValue:Me.value,items:["Buy","Sell"],variant:"outlined"},null,8,["onUpdate:modelValue","modelValue"])]),_:1}),t(q,{cols:"12",sm:"6",md:"3"},{default:l(()=>[t(_e,{label:"Filter by date created",density:"compact","onUpdate:modelValue":[a(ot),o[6]||(o[6]=s=>Se.value=s)],modelValue:Se.value,type:"date",variant:"outlined"},null,8,["onUpdate:modelValue","modelValue"])]),_:1})]),_:1})]),_:1}),t(x,{class:"my-4"},{default:l(()=>{var s,y;return[t(pe,{class:"mt-5"},{default:l(()=>{var b,k;return[e("thead",null,[e("tr",null,[(i(!0),r(N,null,Y(Vt.value,(_,u)=>(i(),r("th",{key:u,class:"text-left"},d(_.title),1))),128))])]),((k=(b=a(ae))==null?void 0:b.data)==null?void 0:k.length)>0&&a(I)==!1?(i(),r("tbody",Gl,[(i(!0),r(N,null,Y(a(ae).data,(_,u)=>(i(),r("tr",{key:_.id},[e("td",null,d(u+1),1),e("td",null,d(_.reference),1),e("td",null,"\u20A6\u200E"+d(_.payable_amount.toLocaleString()),1),e("td",null,d(a(j)(_==null?void 0:_.created_at,"DD, MMMM-YYYY").value),1),e("td",null,d(_.trade_type),1),e("td",null,[t(P,{label:"",class:"text-capitalize font-weight-bold pa-3",color:X(_==null?void 0:_.status)},{default:l(()=>[p(d(_==null?void 0:_.status),1)]),_:2},1032,["color"])]),e("td",null,[t(Q,{justify:"center"},{default:l(()=>[t(xe,{transition:"scroll-y-transition"},{activator:l(({props:T})=>[t(A,Ae({text:"",icon:"mdi-dots-vertical",color:"transparent",class:"ma-2"},T),null,16)]),default:l(()=>[t(Ce,null,{default:l(()=>[t(M,{to:{name:"ViewAssetsTransaction",params:{id:_==null?void 0:_.id}},link:"",color:"secondary"},{default:l(()=>[t(S,null,{default:l(()=>[Ll]),_:1})]),_:2},1032,["to"]),(_==null?void 0:_.status)=="transferred"?(i(),V(M,{key:0,onClick:T=>a(st)(_==null?void 0:_.id),link:"",color:"secondary"},{default:l(()=>[t(S,null,{default:l(()=>[zl]),_:1})]),_:2},1032,["onClick"])):g("",!0),(_==null?void 0:_.status)=="transferred"?(i(),V(M,{key:1,onClick:T=>a(at)(_==null?void 0:_.id),link:"",color:"secondary"},{default:l(()=>[t(S,null,{default:l(()=>[Hl]),_:1})]),_:2},1032,["onClick"])):g("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))])):g("",!0)]}),_:1}),((y=(s=a(ae))==null?void 0:s.data)==null?void 0:y.length)<=0&&a(I)==!1?(i(),r("p",Ol," No data found ")):g("",!0),a(I)==!0?(i(),V(Fe,{key:1,class:"align-center justify-center w-100 my-5"},{default:l(()=>[t($e,{indeterminate:""})]),_:1})):g("",!0)]}),_:1}),t(Ee,{modelValue:U.value,"onUpdate:modelValue":[o[7]||(o[7]=s=>U.value=s),o[10]||(o[10]=s=>a(ve)(a(v).id,U.value))],length:(n=a(ae))==null?void 0:n.last_page,onNext:o[8]||(o[8]=s=>a(ve)(a(v).id,U.value)),onPrev:o[9]||(o[9]=s=>a(ve)(a(v).id,U.value)),"active-color":"red",start:1,variant:"flat",class:"mt-5",color:"bg-secondary",rounded:"circle"},null,8,["modelValue","length"])]}),_:1}),t(E,{value:"three"},{default:l(()=>{var n;return[t(x,{class:"my-4"},{default:l(()=>{var s,y;return[t(pe,null,{default:l(()=>{var b,k;return[e("thead",null,[e("tr",null,[(i(!0),r(N,null,Y(ht.value,(_,u)=>(i(),r("th",{key:u,class:"text-left"},d(_.title),1))),128))])]),((k=(b=a(se))==null?void 0:b.data)==null?void 0:k.length)>0&&a(I)==!1?(i(),V(wt,{key:0,name:"list",tag:"tbody"},{default:l(()=>{var _;return[(i(!0),r(N,null,Y((_=a(se))==null?void 0:_.data,(u,T)=>{var J,K;return i(),r("tr",{key:u.id},[e("td",null,d(T+1),1),e("td",null,d((K=(J=u==null?void 0:u.giftcard_product)==null?void 0:J.giftcard_category)==null?void 0:K.name),1),e("td",null,d(u.reference),1),e("td",null,d(u.trade_type),1),e("td",null," \u20A6\u200E "+d(vt(u.payable_amount*(u.children_count&&u.children_count!==0?u.children_count+1:1))),1),e("td",null,d(a(j)(u==null?void 0:u.created_at,"DD-MM-YYYY hh:mm a").value),1),e("td",null,[t(P,{label:"",size:"small",class:"text-capitalize font-weight-bold pa-3",color:X(u==null?void 0:u.status)},{default:l(()=>[p(d(mt(u==null?void 0:u.status)),1)]),_:2},1032,["color"])]),e("td",null,[t(Q,{justify:"center"},{default:l(()=>[t(xe,{transition:"scroll-y-transition"},{activator:l(({props:$})=>[t(A,Ae({text:"",icon:"mdi-dots-vertical",color:"transparent",class:"ma-2"},$),null,16)]),default:l(()=>[t(Ce,null,{default:l(()=>[t(M,{to:{name:u.children_count&&u.children_count>0?"RelatedGiftCards":"ViewGiftCardTransaction",params:{id:u.id}},link:"",color:"secondary"},{default:l(()=>[t(S,null,{default:l(()=>[p(d(u.children_count&&u.children_count>0?"View List":"View giftcard"),1)]),_:2},1024)]),_:2},1032,["to"]),(u==null?void 0:u.status)=="pending"&&(u==null?void 0:u.children_count)==0?(i(),V(M,{key:0,onClick:$=>he("approve",u==null?void 0:u.id),link:"",color:"secondary"},{default:l(()=>[t(S,null,{default:l(()=>[Xl]),_:1})]),_:2},1032,["onClick"])):g("",!0),(u==null?void 0:u.status)=="pending"&&u.children_count==0?(i(),V(M,{key:1,onClick:$=>(O.value=!0,Z(C)?C.value=u==null?void 0:u.id:C=u==null?void 0:u.id),link:"",color:"secondary"},{default:l(()=>[t(S,null,{default:l(()=>[Jl]),_:1})]),_:2},1032,["onClick"])):g("",!0),(u==null?void 0:u.status)=="pending"&&u.children_count==0?(i(),V(M,{key:2,onClick:$=>(L.value=!0,Z(C)?C.value=u==null?void 0:u.id:C=u==null?void 0:u.id),link:"",color:"secondary"},{default:l(()=>[t(S,null,{default:l(()=>[Kl]),_:1})]),_:2},1032,["onClick"])):g("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)])])}),128))]}),_:1})):g("",!0)]}),_:1}),a(I)==!0?(i(),V(Fe,{key:0,class:"align-center justify-center w-100 my-5"},{default:l(()=>[t($e,{indeterminate:""})]),_:1})):g("",!0),((y=(s=a(se))==null?void 0:s.data)==null?void 0:y.length)<=0&&a(I)==!1?(i(),r("p",Ql," No data found ")):g("",!0)]}),_:1}),t(Ee,{modelValue:U.value,"onUpdate:modelValue":[o[11]||(o[11]=s=>U.value=s),o[14]||(o[14]=s=>a(z)(a(v).id,U.value))],length:(n=a(se))==null?void 0:n.last_page,onNext:o[12]||(o[12]=s=>a(z)(a(v).id,U.value)),onPrev:o[13]||(o[13]=s=>a(z)(a(v).id,U.value)),"active-color":"red",start:1,variant:"flat",class:"mt-5",color:"bg-secondary",rounded:"circle"},null,8,["modelValue","length"])]}),_:1}),t(E,{value:"four"},{default:l(()=>[t(x,{class:"my-4"},{default:l(()=>[t(pe,null,{default:l(()=>{var n;return[e("thead",null,[e("tr",null,[(i(!0),r(N,null,Y(bt.value,(s,y)=>(i(),r("th",{key:y,class:"text-left font-weight-bold"},d(s.title),1))),128))])]),a(I)==!1?(i(),r("tbody",Zl,[(i(!0),r(N,null,Y((n=a(pt))==null?void 0:n.data,(s,y)=>{var b;return i(),r("tr",{class:"pa-3",key:s==null?void 0:s.id},[e("td",null,d(y+1),1),e("td",null,"\u20A6\u200E "+d(s.amount.toLocaleString()),1),e("td",null,d((b=s==null?void 0:s.account_number)!=null?b:"---"),1),e("td",null,d(a(j)(s==null?void 0:s.created_at,"DD, MMMM-YYYY").value),1),e("td",null,[t(P,{label:"",class:"text-capitalize font-weight-bold pa-3",color:X(s==null?void 0:s.status)},{default:l(()=>[p(d(s==null?void 0:s.status),1)]),_:2},1032,["color"])]),e("td",null,[t(Q,{justify:"center"},{default:l(()=>[t(xe,{transition:"scroll-y-transition"},{activator:l(({props:k})=>[t(A,Ae({text:"",icon:"mdi-dots-vertical",color:"transparent",class:"ma-2"},k),null,16)]),default:l(()=>[t(Ce,null,{default:l(()=>[t(M,{to:{name:"viewWithdrawals",params:{id:s.id}},link:"",color:"secondary"},{default:l(()=>[t(S,null,{default:l(()=>[ea]),_:1})]),_:2},1032,["to"]),(s==null?void 0:s.status)=="pending"?(i(),V(M,{key:0,onClick:k=>a(Ue)(s==null?void 0:s.id),link:"",color:"secondary"},{default:l(()=>[t(S,null,{default:l(()=>[ta]),_:1})]),_:2},1032,["onClick"])):g("",!0),(s==null?void 0:s.status)=="pending"?(i(),V(M,{key:1,onClick:k=>{ye.value=s==null?void 0:s.id,f.disapprove()},link:"",color:"secondary"},{default:l(()=>[t(S,null,{default:l(()=>[la]),_:1})]),_:2},1032,["onClick"])):g("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)])])}),128))])):g("",!0)]}),_:1})]),_:1})]),_:1}),t(E,{value:"five"},{default:l(()=>[t(x,{class:"my-4"},{default:l(()=>[t(pe,null,{default:l(()=>{var n;return[e("thead",null,[e("tr",null,[(i(!0),r(N,null,Y(kt.value,(s,y)=>(i(),r("th",{key:y,class:"text-left font-weight-bold"},d(s.title),1))),128))])]),a(I)==!1?(i(),r("tbody",aa,[(i(!0),r(N,null,Y((n=a(tt))==null?void 0:n.data,(s,y)=>{var b;return i(),r("tr",{class:"pa-3",key:s==null?void 0:s.id},[e("td",null,d(y+1),1),e("td",null,"\u20A6\u200E "+d(s.amount.toLocaleString()),1),e("td",null,d(s==null?void 0:s.referred.firstname)+" "+d(s==null?void 0:s.referred.lastname),1),e("td",null,d((b=s.referred)==null?void 0:b.email),1),e("td",null,d(a(j)(s==null?void 0:s.created_at,"DD, MMMM-YYYY").value),1),e("td",null,[t(P,{label:"",class:"text-capitalize font-weight-bold pa-3",color:X(s!=null&&s.paid?"approved":"pending")},{default:l(()=>[p(d(s.paid?"Completed":"Pending"),1)]),_:2},1032,["color"])])])}),128))])):g("",!0)]}),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(ee,{modelValue:a(fe),"onUpdate:modelValue":o[19]||(o[19]=n=>Z(fe)?fe.value=n:null),width:"600"},{default:l(()=>[t(x,{class:"pa-3"},{default:l(()=>[sa,t(Re,{modelValue:ne.value,"onUpdate:modelValue":o[16]||(o[16]=n=>ne.value=n),class:"my-4","bg-color":"secondary"},{default:l(()=>[t(F,{value:"one"},{default:l(()=>[oa]),_:1}),t(F,{value:"two"},{default:l(()=>[na]),_:1})]),_:1},8,["modelValue"]),t(Pe,{modelValue:ne.value,"onUpdate:modelValue":o[18]||(o[18]=n=>ne.value=n)},{default:l(()=>[t(E,{value:"one"},{default:l(()=>[t(G,null,{default:l(()=>{var n,s,y,b,k,_,u,T,J,K,$;return[e("div",da,[e("div",null,[ua,e("p",null,d((n=a(h).account_name)!=null?n:"No data"),1)]),e("div",null,[ia,e("p",null,d((s=a(h).account_number)!=null?s:"No data"),1)])]),e("div",ra,[e("div",null,[ca,e("p",null,d((y=a(h).reference)!=null?y:"No data"),1)]),e("div",null,[_a,e("p",null,d((b=a(h).account_number)!=null?b:"No data"),1)])]),e("div",pa,[e("div",null,[fa,t(P,{label:"",class:"text-capitalize font-weight-bold pa-3",color:X((k=a(h))==null?void 0:k.status)},{default:l(()=>{var be,Ie;return[p(d((Ie=(be=a(h))==null?void 0:be.status)!=null?Ie:"No data"),1)]}),_:1},8,["color"])]),e("div",va,[ma,e("p",null," \u20A6\u200E "+d((u=(_=a(h))==null?void 0:_.payable_amount)!=null?u:"No data"),1)])]),e("div",ya,[e("div",null,[ga,e("p",null,d((J=(T=a(h).asset)==null?void 0:T.code)!=null?J:"No data")+" "+d((K=a(h).asset_amount)!=null?K:"No data"),1)]),e("div",ha,[ba,e("p",null," \u20A6\u200E "+d(($=a(h).service_charge)!=null?$:"No data"),1)])]),e("div",ka,[t(x,{rounded:"0",class:"pa-5 my-3 d-flex align-center justify-between w-100"},{default:l(()=>[a(h).proof!==null?(i(),r("div",Va,[t(ke,{icon:"mdi-file-document"}),xa])):g("",!0),a(h).proof!==null?(i(),V(A,{key:1,onClick:o[17]||(o[17]=be=>f.open_file(a(h).proof)),color:"secondary"},{default:l(()=>[Aa]),_:1})):(i(),r("p",Ca,"No Transaction Receipts"))]),_:1})])]}),_:1})]),_:1}),t(E,{value:"two"},{default:l(()=>[t(G,null,{default:l(()=>{var n,s,y,b,k,_,u,T;return[e("div",Da,[e("div",null,[Ta,e("p",null,d((n=a(h).comments)!=null?n:"No data"),1)]),e("div",null,[Ua,e("p",null,d((s=a(h).rate)!=null?s:"No data"),1)])]),e("div",Na,[e("div",null,[Ya,e("p",null,d((y=a(h).wallet_address)!=null?y:"No data"),1)]),e("div",null,[Ma,e("p",null,d((b=a(h).trade_type)!=null?b:"No data"),1)])]),e("div",Sa,[e("div",null,[Ia,e("p",null,d((_=(k=a(h).asset)==null?void 0:k.buy_rate)!=null?_:"No data"),1)]),e("div",null,[wa,e("p",null,d((T=(u=a(h).asset)==null?void 0:u.code)!=null?T:"No data"),1)])])]}),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),t(ee,{modelValue:a(le),"onUpdate:modelValue":o[23]||(o[23]=n=>Z(le)?le.value=n:null),"max-width":"500px"},{default:l(()=>[t(x,{class:"pa-4"},{default:l(()=>[Ra,t(We,{class:"mt-8 py-8"},{default:l(()=>[t(Ve,{modelValue:H.type,"onUpdate:modelValue":o[20]||(o[20]=n=>H.type=n),label:"Transaction Type",variant:"outlined",items:["Debit","Credit"]},null,8,["modelValue"]),t(_e,{modelValue:H.amount,"onUpdate:modelValue":o[21]||(o[21]=n=>H.amount=n),label:"Amount",variant:"outlined"},null,8,["modelValue"]),t(A,{loading:a(I),color:"primary",block:"",onClick:o[22]||(o[22]=n=>a(Ze)(ye.value,H))},{default:l(()=>[ja]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),O.value?(i(),V(ee,{key:0,modelValue:O.value,"onUpdate:modelValue":o[29]||(o[29]=n=>O.value=n),"max-width":"429px","min-height":"476px"},{default:l(()=>[t(x,{class:"view-dialog pa-4"},{default:l(()=>[e("div",Ba,[$a,t(A,{onClick:o[24]||(o[24]=n=>O.value=!1),icon:"mdi-close",color:"secondary",variant:"text"},{default:l(()=>[t(ke,{icon:"mdi-close"})]),_:1})]),t(We,{class:"my-10"},{default:l(()=>[t(_e,{prefix:"\u20A6\u200E",modelValue:B.review_amount,"onUpdate:modelValue":o[25]||(o[25]=n=>B.review_amount=n),type:"number",variant:"outlined",label:"Review Amount"},null,8,["modelValue"]),t(qe,{modelValue:B.review_note,"onUpdate:modelValue":o[26]||(o[26]=n=>B.review_note=n),variant:"outlined",label:"Review Note"},null,8,["modelValue"]),Fa,D.value.length?g("",!0):(i(),r("label",Ea,Wa)),e("input",{type:"file",multiple:"",id:"proof",ref:"fileInput",style:{display:"none"},accept:"image/*",onChange:o[27]||(o[27]=n=>Dt(n.target.files))},null,544),e("div",qa,[(i(!0),r(N,null,Y(D.value,(n,s)=>(i(),r("div",{key:s},[e("div",Ga,[e("img",{class:"w-full cursor-pointer",style:{height:"75px","object-fit":"cover",width:"100%"},src:n},null,8,La),e("img",{src:Le,class:"absolute rounded-full border border-red-700 -top-2 -right-2 bg-red-200 text-red-500 cursor-pointer",style:{position:"absolute",right:"-5px",top:"-5px"},width:"20",onClick:y=>At(n,s)},null,8,za)])]))),128))]),a(ue)?(i(),r("div",Ha,[e("small",Oa,"Uploaded "+d(a(W))+" of "+d(a(ie))+"...",1)])):g("",!0),D.value.length?(i(),r("label",Xa,Qa)):g("",!0),t(A,{loading:a(it),onClick:o[28]||(o[28]=n=>he("partial",a(C))),class:"mt-5",block:"",color:"secondary"},{default:l(()=>[Za]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):g("",!0),t(ee,{modelValue:R.value,"onUpdate:modelValue":o[32]||(o[32]=n=>R.value=n),width:"500"},{default:l(()=>[t(x,null,{default:l(()=>[t(Rt,{dark:"",dense:"",flat:""},{default:l(()=>[t(jt,{class:"text-body-2 font-weight-bold grey--text"},{default:l(()=>[es]),_:1})]),_:1}),t(G,{class:"pa-4 black--text"},{default:l(()=>[p("Are you sure you want to "+d(re.value==="partial"?"partially approve":re.value)+" this transaction?",1)]),_:1}),t(Bt,{class:"pt-3"},{default:l(()=>[t($t),t(A,{color:"grey",text:"",class:"body-2 font-weight-bold",onClick:o[30]||(o[30]=n=>R.value=!1)},{default:l(()=>[ts]),_:1}),t(A,{color:"primary",class:"body-2 font-weight-bold",outlined:"",onClick:o[31]||(o[31]=n=>(Tt(re.value),R.value=!1))},{default:l(()=>[ls]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Et,null,{default:l(()=>[a(L)?(i(),V(ee,{key:0,modelValue:a(L),"onUpdate:modelValue":o[36]||(o[36]=n=>Z(L)?L.value=n:null),"max-width":"500px",width:"100%"},{default:l(()=>[t(x,{"max-width":"500px"},{default:l(()=>[t(G,null,{default:l(()=>[as,ss]),_:1}),t(Ft,{class:"mt-7"},{default:l(()=>[t(qe,{label:"Comments",modelValue:me.value,"onUpdate:modelValue":o[33]||(o[33]=n=>me.value=n),variant:"outlined"},null,8,["modelValue"]),os,D.value.length?g("",!0):(i(),r("label",ns,us)),e("input",{type:"file",multiple:"",id:"proof",ref:"fileInput",style:{display:"none"},accept:"image/*",onChange:o[34]||(o[34]=n=>xt(n.target.files))},null,544),e("div",is,[(i(!0),r(N,null,Y(D.value,(n,s)=>(i(),r("div",{key:s},[e("div",rs,[e("img",{class:"w-full cursor-pointer",style:{height:"75px","object-fit":"cover",width:"100%"},src:n},null,8,cs),e("img",{src:Le,class:"absolute rounded-full border border-red-700 -top-2 -right-2 bg-red-200 text-red-500 cursor-pointer",style:{position:"absolute",right:"-5px",top:"-5px"},width:"20",onClick:y=>Ct(n,s)},null,8,_s)])]))),128))]),a(ue)?(i(),r("div",ps,[e("small",fs,"Uploaded "+d(a(W))+" of "+d(a(ie))+"...",1)])):g("",!0),D.value.length?(i(),r("label",vs,gs)):g("",!0),t(A,{color:"secondary",class:"my-5",block:"",loading:a(rt),onClick:o[35]||(o[35]=n=>he("decline",a(C)))},{default:l(()=>[hs]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):g("",!0)]),_:1})]))}});var Bs=Gt(bs,[["__scopeId","data-v-2cb9092f"]]);export{Bs as default};
