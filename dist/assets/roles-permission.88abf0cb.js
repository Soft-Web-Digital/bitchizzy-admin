import{a as J,s as K,r as v,h as O,o as r,c as a,b as l,w as s,an as Q,ao as N,a1 as X,ap as Z,aq as P,e as o,D as C,ax as T,F as y,k as x,u as t,x as f,j as I,ay as U,av as Y,a9 as ee,au as le,a2 as A,t as u,as as te,H as se,aA as oe,a$ as ne,m as V,a7 as ie,N as re,q as ue,V as ae,p as S,v as $,a3 as de,a4 as me}from"./index.09a9e36e.js";import{u as j}from"./roles-permissions.df790ef0.js";import{_ as ce}from"./plugin-vue_export-helper.21dcd24c.js";import{u as B}from"./index.11c402df.js";import"./user.7809a3f7.js";import"./axios-services.17ccf49f.js";import"./filedownloader.f3cc1d55.js";import"./country.9f13e2ad.js";const pe=g=>(de("data-v-f5a35fb6"),g=g(),me(),g),_e=pe(()=>o("h2",{class:"my-5"},"Roles and Permissions",-1)),fe=V("All Roles"),Ve=V("All Permissions"),ve={class:"d-flex justify-end w-100"},ye=V("Create a Role"),ge={key:0},he={class:"text-capitalize font-weight-bold"},ke=V(" Update Role "),be=V(" Delete Role "),xe={key:1,class:"text-center py-6"},we={key:0},Re={class:"text-capitalize font-weight-bold"},Ce={key:1,class:"text-center py-6"},De=V("Submit"),Me=J({__name:"roles-permission",setup(g){const{getAllRoles:F,getAllPermissions:L,createRole:q,updateRole:z,deleteRole:G}=j(),{roles:w,permissions:h,loading:p,dialog:k,role:d}=K(j()),b=v(null),W=v([{title:"No."},{title:"name"},{title:"Permission count"},{title:"Description"},{title:"Date created"},{title:"Actions"}]),E=v([{title:"No."},{title:"name"},{title:"Guard name"},{title:"Group name"},{title:"Description"},{title:"Date created"}]);O(async()=>{await F(),await L()});const D=v(!1),M=v("Create Role"),H=m=>{d.value={id:m.id,name:m.name,guard_name:m.guard_name,description:m.description,users_count:m.users_count,permissions:m.permissions,permission_id:m.permissions.map(n=>n.id)},M.value="Update Role",k.value=!0,D.value=!0};return(m,n)=>(r(),a(y,null,[_e,l(A,null,{default:s(()=>[l(Q,{modelValue:b.value,"onUpdate:modelValue":n[0]||(n[0]=i=>b.value=i),"bg-color":"secondary"},{default:s(()=>[l(N,{value:"one"},{default:s(()=>[fe]),_:1}),l(N,{value:"two"},{default:s(()=>[Ve]),_:1})]),_:1},8,["modelValue"]),l(X,null,{default:s(()=>[l(Z,{modelValue:b.value,"onUpdate:modelValue":n[2]||(n[2]=i=>b.value=i)},{default:s(()=>[l(P,{value:"one"},{default:s(()=>{var i;return[o("div",ve,[l(C,{onClick:n[1]||(n[1]=_=>m.$router.push("/roles/create-role")),color:"secondary"},{default:s(()=>[ye]),_:1})]),l(T,null,{default:s(()=>{var _;return[o("thead",null,[o("tr",null,[(r(!0),a(y,null,x(W.value,(e,c)=>(r(),a("th",{key:c,class:"text-left font-weight-bold"},u(e.title),1))),128))])]),t(p)==!1&&((_=t(w))==null?void 0:_.length)>0?(r(),a("tbody",ge,[(r(!0),a(y,null,x(t(w),(e,c)=>(r(),a("tr",{class:"pa-3",key:e==null?void 0:e.id},[o("td",null,u(c+1),1),o("td",he,u(e==null?void 0:e.name),1),o("td",null,u(e==null?void 0:e.permissions.length),1),o("td",null,u(e==null?void 0:e.description),1),o("td",null,u(t(B)(e==null?void 0:e.created_at,"DD, MMMM-YYYY").value),1),o("td",null,[l(ie,{justify:"center"},{default:s(()=>[l(re,{transition:"scroll-y-transition"},{activator:s(({props:R})=>[l(C,ue({text:"",icon:"mdi-dots-vertical",color:"transparent",class:"ma-2"},R),null,16)]),default:s(()=>[l(ae,null,{default:s(()=>[l(S,{onClick:R=>H(e),link:"",color:"secondary"},{default:s(()=>[l($,null,{default:s(()=>[ke]),_:1})]),_:2},1032,["onClick"]),l(S,{onClick:R=>t(G)(e==null?void 0:e.id),link:"",color:"secondary"},{default:s(()=>[l($,null,{default:s(()=>[be]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))])):f("",!0)]}),_:1}),t(p)==!0?(r(),I(Y,{key:0,class:"align-center justify-center w-100 my-5"},{default:s(()=>[l(U,{indeterminate:""})]),_:1})):f("",!0),t(p)==!1&&((i=t(w))==null?void 0:i.length)<=0?(r(),a("p",xe," No data available ")):f("",!0)]}),_:1}),l(P,{value:"two"},{default:s(()=>{var i;return[l(T,null,{default:s(()=>{var _;return[o("thead",null,[o("tr",null,[(r(!0),a(y,null,x(E.value,(e,c)=>(r(),a("th",{key:c,class:"text-left font-weight-bold"},u(e.title),1))),128))])]),((_=t(h))==null?void 0:_.length)>0?(r(),a("tbody",we,[(r(!0),a(y,null,x(t(h),(e,c)=>(r(),a("tr",{class:"pa-3",key:e==null?void 0:e.id},[o("td",null,u(c+1),1),o("td",Re,u(e==null?void 0:e.name),1),o("td",null,u(e==null?void 0:e.guard_name),1),o("td",null,u(e==null?void 0:e.group_name),1),o("td",null,u(e==null?void 0:e.description),1),o("td",null,u(t(B)(e==null?void 0:e.created_at,"DD, MMMM-YYYY").value),1)]))),128))])):f("",!0)]}),_:1}),t(p)==!0?(r(),I(Y,{key:0,class:"align-center justify-center w-100 my-5"},{default:s(()=>[l(U,{indeterminate:""})]),_:1})):f("",!0),t(p)==!1&&((i=t(h))==null?void 0:i.length)<=0?(r(),a("p",Ce," No data available ")):f("",!0)]}),_:1})]),_:1},8,["modelValue"])]),_:1}),l(ee,{modelValue:t(k),"onUpdate:modelValue":n[7]||(n[7]=i=>le(k)?k.value=i:null),"max-width":"500px"},{default:s(()=>[l(A,{class:"pa-4"},{default:s(()=>[o("h3",null,u(M.value),1),l(te,{class:"mt-8 py-8"},{default:s(()=>[l(se,{modelValue:t(d).name,"onUpdate:modelValue":n[3]||(n[3]=i=>t(d).name=i),label:"Name",variant:"outlined"},null,8,["modelValue"]),l(oe,{modelValue:t(d).description,"onUpdate:modelValue":n[4]||(n[4]=i=>t(d).description=i),label:"Description",variant:"outlined"},null,8,["modelValue"]),l(ne,{modelValue:t(d).permission_id,"onUpdate:modelValue":n[5]||(n[5]=i=>t(d).permission_id=i),variant:"outlined",label:"Permissions","item-title":"name",multiple:"",chips:"","item-value":"id",items:t(h)},null,8,["modelValue","items"]),l(C,{loading:t(p),color:"secondary",block:"",onClick:n[6]||(n[6]=i=>D.value==!0?t(z)(t(d)):t(q)(t(d)))},{default:s(()=>[De]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})],64))}});var $e=ce(Me,[["__scopeId","data-v-f5a35fb6"]]);export{$e as default};
