import{a as be,s as we,r as x,h as xe,A as K,o as i,j as I,w as t,b as e,e as n,aE as W,D as N,a2 as E,a7 as C,a6 as r,H as f,u as l,at as he,c as p,k as L,F as P,x as F,ar as G,au as Q,av as ke,a9 as X,aq as Z,t as m,a1 as Ce,T as ee,ao as Ae,C as Se,an as Ie,a8 as Ne,I as Ue,O as le,P as te,m as V,y as qe,N as De,q as Te,V as $e,p as R,v as M,J as Be,K as je,a3 as Fe,a4 as Re}from"./index.768fb5ed.js";import{u as ae}from"./asset.70a8f82c.js";import{u as Me}from"./useFormatter.be1a3376.js";import{_ as ze}from"./plugin-vue_export-helper.21dcd24c.js";import{u as Ee}from"./index.bb23e1de.js";const g=T=>(Fe("data-v-604653a7"),T=T(),Re(),T),Le={class:"w-full d-md-flex justify-space-between my-3"},Pe=g(()=>n("h2",null,"Assets",-1)),Ye={class:"d-md-flex align-center"},Oe=V(" Create New Asset "),He=V("Search"),Je={key:0},Ke=V(" View Asset "),We=V(" Edit Asset "),Ge=V(" Restore Asset "),Qe=V(" Delete Asset "),Xe={key:0,class:"font-weight-bold text-center my-3"},Ze={class:"text-h5 font-weight-bold pa-7"},el=V("View current icon"),ll=V(" Close "),tl=V(" Submit "),al=g(()=>n("h3",{class:"text-center my-4"},"Asset Details",-1)),sl={class:"d-flex flex-column"},ol={class:"d-flex align-center justify-space-between w-full"},nl=g(()=>n("h4",{class:"text-grey font-weight-light"},"Name",-1)),ul={class:"d-flex align-center"},dl={class:"ml-3 font-weight-bold"},il=g(()=>n("h4",{class:"text-grey font-weight-light"},"Code",-1)),rl={class:"my-3 font-weight-bold"},ml=g(()=>n("h4",{class:"text-grey font-weight-light"},"Buy Rate",-1)),_l={class:"my-3 font-weight-bold"},cl=g(()=>n("h4",{class:"text-grey grey-darken-4 font-weight-light"},"Sell Rate",-1)),vl={class:"my-3 font-weight-bold"},fl={key:0,class:"mt-8"},yl=g(()=>n("h3",{class:"text-grey font-weight-bold"}," Network(s) that belong to this asset: ",-1)),pl={class:"mb-2"},Vl=g(()=>n("h4",{class:"mb-1 text-grey font-weight-light"},"Name",-1)),gl={class:"font-weight-bold"},bl={class:"mb-2"},wl=g(()=>n("h4",{class:"mb-1 text-grey font-weight-light"},"Wallet address",-1)),xl={class:"font-weight-bold"},hl={key:1,class:"text-center py-5"},kl=be({__name:"assets",setup(T){const{sortItems:se}=Me(),{getAllAsset:h,deleteAsset:oe,createAssets:Y,restoreAsset:ne,updateAssets:O,getAllNetworks:ue,getSingleAsset:de}=ae(),{allTransactions:Cl,loading:A,dialog:b,asset:s,assets:$,all_networks:ie,dialog2:B,asset_details:k}=we(ae()),re=x([{title:"No."},{title:"Icon"},{title:"Asset name"},{title:"Code"},{title:"Buy rate"},{title:"Sell rate"},{title:"Created At"},{title:"Actions"}]),c=x(""),v=x(""),y=x(1),me=()=>{b.value=!1,s.value=Object.assign({},{name:"",code:"",icon:"",buy_rate:"",sell_rate:"",id:"",networks:[],buy_min_amount:"",buy_max_amount:"",sell_min_amount:"",sell_max_amount:""}),j.value="Create Item",S.value=!1};xe(async()=>{await h(y.value,c.value,v.value),await ue()});const _e=u=>new Intl.NumberFormat().format(u),ce=u=>{s.value.icon=u.target.files[0]},ve=u=>{window.open(u)},S=x(!1),j=x("Create Asset"),H=x("Create new asset"),fe=u=>{s.value={name:u.name,code:u.code,icon:u.icon,buy_rate:u.buy_rate,sell_rate:u.sell_rate,id:u.id,networks:u.networks,network_id:u.networks.map(a=>a.id),buy_min_amount:u.buy_min_amount,buy_max_amount:u.buy_max_amount,sell_min_amount:u.sell_min_amount,sell_max_amount:u.sell_max_amount},j.value="Update Asset",H.value="Edit asset",b.value=!0,S.value=!0},ye=()=>{s.value={name:"",code:"",icon:"",buy_rate:"",sell_rate:"",id:"",networks:[],network_id:[],buy_min_amount:"",buy_max_amount:"",sell_min_amount:"",sell_max_amount:""},S.value=!1,j.value="Create Asset",H.value="Create new asset"};K(b,()=>{b.value||setTimeout(()=>{ye()},500)});const pe=[{text:"All Assets",value:"with"},{text:"Deleted Assets",value:"only"}],U=x("with"),Ve=u=>{u=="with"?h(y.value,c.value,v.value):h(y.value,c.value,v.value,"only")};K(U,u=>{Ve(u)});const ge=async u=>{await ne(u),U.value="with"};return(u,a)=>(i(),I(C,null,{default:t(()=>[e(r,{cols:"12",sm:"12",class:"mt-4"},{default:t(()=>[n("div",Le,[Pe,n("div",Ye,[e(W,{modelValue:U.value,"onUpdate:modelValue":a[0]||(a[0]=o=>U.value=o),class:"select-field",label:"Filter by type",density:"compact",items:pe,"item-title":"text","item-value":"value",variant:"outlined"},null,8,["modelValue"]),e(N,{"prepend-icon":"mdi-plus",onClick:a[1]||(a[1]=o=>b.value=!0),variant:"flat",color:"secondary",class:"ml-3"},{default:t(()=>[Oe]),_:1})])]),e(E,{class:"pa-5"},{default:t(()=>{var o,q;return[e(C,null,{default:t(()=>[e(r,{cols:"12",sm:"6",md:"4"},{default:t(()=>[e(f,{density:"compact",variant:"outlined",label:"Asset name*",modelValue:c.value,"onUpdate:modelValue":a[2]||(a[2]=_=>c.value=_),required:""},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",sm:"6",md:"4"},{default:t(()=>[e(f,{density:"compact",variant:"outlined",label:"Asset code*",modelValue:v.value,"onUpdate:modelValue":a[3]||(a[3]=_=>v.value=_),required:""},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",sm:"6",md:"4"},{default:t(()=>[e(N,{onClick:a[4]||(a[4]=_=>c.value!==""||v.value!==""?l(h)(y.value,c.value,v.value):null),color:"secondary",block:""},{default:t(()=>[He]),_:1})]),_:1})]),_:1}),e(he,null,{default:t(()=>{var _,w;return[n("thead",null,[n("tr",null,[(i(!0),p(P,null,L(re.value,(d,z)=>(i(),p("th",{key:z,class:"text-left"},m(d.title),1))),128))])]),((w=(_=l($))==null?void 0:_.data)==null?void 0:w.length)>0&&l(A)==!1?(i(),p("tbody",Je,[(i(!0),p(P,null,L(l(se)(l($).data),(d,z)=>{var J;return i(),p("tr",{key:d.id},[n("td",null,m(z+1),1),n("td",null,[e(le,{size:"50px"},{default:t(()=>[e(te,{cover:"",class:"rounded-circle img-fluid img-size",src:d==null?void 0:d.icon},null,8,["src"])]),_:2},1024)]),n("td",{class:qe({"font-weight-bold":d.account_name==null})},m((J=d.name)!=null?J:"No name"),3),n("td",null,m(d.code),1),n("td",null,"\u20A6\u200E"+m(d.buy_rate),1),n("td",null,"\u20A6\u200E"+m(d.sell_rate),1),n("td",null,m(l(Ee)(d==null?void 0:d.created_at,"DD, MMMM-YYYY hh:mm a").value),1),n("td",null,[e(C,{justify:"center"},{default:t(()=>[e(De,{transition:"scroll-x-transition"},{activator:t(({props:D})=>[e(N,Te({text:"",icon:"mdi-dots-vertical",color:"transparent",class:"ma-2"},D),null,16)]),default:t(()=>[e($e,null,{default:t(()=>[e(R,{onClick:D=>{B.value=!0,l(de)(d==null?void 0:d.id)},link:"",color:"secondary"},{default:t(()=>[e(M,null,{default:t(()=>[Ke]),_:1})]),_:2},1032,["onClick"]),e(R,{onClick:D=>fe(d),link:"",color:"secondary"},{default:t(()=>[e(M,null,{default:t(()=>[We]),_:1})]),_:2},1032,["onClick"]),Be(e(R,{onClick:D=>ge(d==null?void 0:d.id),link:"",color:"secondary"},{default:t(()=>[e(M,null,{default:t(()=>[Ge]),_:1})]),_:2},1032,["onClick"]),[[je,U.value==="only"]]),e(R,{onClick:D=>l(oe)(d==null?void 0:d.id),link:"",color:"secondary"},{default:t(()=>[e(M,null,{default:t(()=>[Qe]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])])}),128))])):F("",!0)]}),_:1}),((q=(o=l($))==null?void 0:o.data)==null?void 0:q.length)<=0&&l(A)==!1?(i(),p("p",Xe," No data found ")):F("",!0),l(A)==!0?(i(),I(G,{key:1,class:"align-center justify-center w-100 my-5"},{default:t(()=>[e(Q,{indeterminate:""})]),_:1})):F("",!0)]}),_:1}),e(ke,{modelValue:y.value,"onUpdate:modelValue":[a[5]||(a[5]=o=>y.value=o),a[8]||(a[8]=o=>l(h)(y.value,c.value,v.value))],length:l($).last_page,onNext:a[6]||(a[6]=o=>l(h)(y.value,c.value,v.value)),onPrev:a[7]||(a[7]=o=>l(h)(y.value,c.value,v.value)),"active-color":"red",start:1,variant:"flat",class:"mt-5",color:"bg-secondary",rounded:"circle"},null,8,["modelValue","length"])]),_:1}),e(C,{justify:"center"},{default:t(()=>[e(X,{persistent:"",modelValue:l(b),"onUpdate:modelValue":a[22]||(a[22]=o=>Z(b)?b.value=o:null),"max-width":"500px"},{default:t(()=>[e(E,{loading:l(A)},{default:t(()=>[n("h3",Ze,m(j.value),1),e(Ce,null,{default:t(()=>[e(ee,null,{default:t(()=>[e(Ae,{onSubmit:a[21]||(a[21]=Se(o=>S.value?l(O)(l(s)):l(Y)(l(s)),["prevent"]))},{default:t(()=>[e(C,null,{default:t(()=>[e(r,{cols:"12",sm:"6",md:"12"},{default:t(()=>[e(f,{modelValue:l(s).name,"onUpdate:modelValue":a[9]||(a[9]=o=>l(s).name=o),variant:"outlined",label:"Asset name*",required:""},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",sm:"6",md:"12"},{default:t(()=>[e(f,{modelValue:l(s).code,"onUpdate:modelValue":a[10]||(a[10]=o=>l(s).code=o),variant:"outlined",label:"Asset Short Code*",required:""},null,8,["modelValue"])]),_:1}),e(r,{cols:"12"},{default:t(()=>[e(Ie,{variant:"outlined",label:"Asset Icon*",required:"",onChange:ce,"prepend-icon":"","append-inner-icon":"mdi-paperclip"}),S.value==!0?(i(),I(N,{key:0,size:"small",link:"",onClick:a[11]||(a[11]=o=>ve(l(s).icon)),class:"cursor-pointer",label:"",color:"secondary"},{default:t(()=>[el]),_:1})):F("",!0)]),_:1}),e(r,{cols:"12",sm:"12"},{default:t(()=>[e(f,{modelValue:l(s).buy_rate,"onUpdate:modelValue":a[12]||(a[12]=o=>l(s).buy_rate=o),variant:"outlined",label:"Buy Rate*",required:"",type:"number"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",sm:"12"},{default:t(()=>[e(f,{modelValue:l(s).sell_rate,"onUpdate:modelValue":a[13]||(a[13]=o=>l(s).sell_rate=o),variant:"outlined",label:"Sell Rate*",required:"",type:"number"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",sm:"12"},{default:t(()=>[e(f,{modelValue:l(s).buy_min_amount,"onUpdate:modelValue":a[14]||(a[14]=o=>l(s).buy_min_amount=o),variant:"outlined",label:"Buy min amount*",required:"",type:"number"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",sm:"12"},{default:t(()=>[e(f,{modelValue:l(s).buy_max_amount,"onUpdate:modelValue":a[15]||(a[15]=o=>l(s).buy_max_amount=o),variant:"outlined",label:"Buy max amount*",required:"",type:"number"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",sm:"12"},{default:t(()=>[e(f,{modelValue:l(s).sell_min_amount,"onUpdate:modelValue":a[16]||(a[16]=o=>l(s).sell_min_amount=o),variant:"outlined",label:"Sell min amount*",required:"",type:"number"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",sm:"12"},{default:t(()=>[e(f,{modelValue:l(s).sell_max_amount,"onUpdate:modelValue":[a[17]||(a[17]=o=>l(s).sell_max_amount=o),a[18]||(a[18]=()=>_e(l(s).sell_max_amount))],variant:"outlined",label:"Sell max amount*",required:"",type:"number"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",sm:"12"},{default:t(()=>[e(W,{variant:"outlined","item-title":"name","item-value":"id",items:l(ie),multiple:"",chips:"",modelValue:l(s).networks,"onUpdate:modelValue":a[19]||(a[19]=o=>l(s).networks=o),label:"Select Networks",required:""},null,8,["items","modelValue"])]),_:1})]),_:1}),e(Ne,null,{default:t(()=>[e(Ue),e(N,{color:"secondary",class:"px-7",variant:"outlined",onClick:me},{default:t(()=>[ll]),_:1}),e(N,{color:"secondary",class:"px-12",disabled:!l(s).name||!l(s).code||!l(s).buy_rate||!l(s).sell_rate||!l(s).network_id||!l(s).icon||!l(s).buy_min_amount||!l(s).buy_max_amount||!l(s).sell_min_amount||!l(s).sell_max_amount,loading:l(A),variant:"flat",onClick:a[20]||(a[20]=o=>S.value===!0?l(O)(l(s)):l(Y)(l(s)))},{default:t(()=>[tl]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:1}),e(C,{justify:"center"},{default:t(()=>[e(X,{modelValue:l(B),"onUpdate:modelValue":a[23]||(a[23]=o=>Z(B)?B.value=o:null),"max-width":"500px"},{default:t(()=>[e(E,null,{default:t(()=>[al,l(A)==!0?(i(),I(G,{key:0,class:"align-center justify-center w-100 my-5"},{default:t(()=>[e(Q,{indeterminate:""})]),_:1})):(i(),I(ee,{key:1,class:"fill-height"},{default:t(()=>{var o,q;return[n("div",sl,[n("div",ol,[n("div",null,[nl,n("div",ul,[e(le,{size:"50px"},{default:t(()=>{var _;return[e(te,{class:"img-fluid rounded-circle img-size",cover:"",src:(_=l(k))==null?void 0:_.icon},null,8,["src"])]}),_:1}),n("p",dl,m(l(k).name),1)])]),n("div",null,[il,n("p",rl,m(l(k).code),1)]),n("div",null,[ml,n("p",_l,m(l(k).buy_rate),1)]),n("div",null,[cl,n("p",vl,m(l(k).sell_rate),1)])]),((q=(o=l(k))==null?void 0:o.networks)==null?void 0:q.length)>0?(i(),p("div",fl,[yl,e(C,{class:""},{default:t(()=>{var _;return[(i(!0),p(P,null,L((_=l(k))==null?void 0:_.networks,w=>(i(),I(r,{cols:"12",sm:"6",key:w==null?void 0:w.id},{default:t(()=>[n("div",pl,[Vl,n("p",gl,m(w.name),1)]),n("div",bl,[wl,n("p",xl,m(w.wallet_address),1)])]),_:2},1024))),128))]}),_:1})])):(i(),p("p",hl,"This asset has no related network"))])]}),_:1}))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}))}});var ql=ze(kl,[["__scopeId","data-v-604653a7"]]);export{ql as default};
