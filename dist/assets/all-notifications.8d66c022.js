import{a as N,f as _,s as b,B as p,aW as B,o,c as g,b as d,w as t,e as n,D as C,u as e,a7 as L,j as r,a6 as u,x as A,V as D,F,k as R,a2 as T,m as j,p as Q,t as y}from"./index.d08b3963.js";const S={class:"d-flex align-center justify-space-between"},W=n("h3",null,"All Notifications",-1),q=j("Mark all as read"),E={class:"font-weight-bold my-3"},I={class:"grey-lighten-1"},M=n("p",{class:"font-weight-bold text-center my-4"},"No data found",-1),m=N({__name:"all-notifications",setup(O){const f=_(),{notificationData:h,updating:k}=b(_()),V=p(()=>h.value.map(l=>l.id)),{data:v,isLoading:w}=B("notifications",async()=>await f.getQueryNotifications(),{retry:1,refetchOnWindowFocus:!1,staleTime:1e5}),i=p(()=>{var l,c,s;return(s=(c=(l=v.value)==null?void 0:l.data)==null?void 0:c.notifications)==null?void 0:s.data});return(l,c)=>(o(),g("div",null,[d(T,{class:"pa-7"},{default:t(()=>[n("div",S,[W,d(C,{color:"secondary","prepend-icon":"mdi-bell-ring-outline",loading:e(k),onClick:c[0]||(c[0]=s=>{var a;return((a=e(i))==null?void 0:a.length)>0?e(f).markAsRead(e(V)):null})},{default:t(()=>[q]),_:1},8,["loading"])]),d(L,null,{default:t(()=>{var s;return[e(w)?(o(),r(u,{key:0,cols:"12"})):A("",!0),((s=e(i))==null?void 0:s.length)>0?(o(),r(u,{key:1,cols:"12"},{default:t(()=>[d(D,null,{default:t(()=>[(o(!0),g(F,null,R(e(i),(a,x)=>(o(),r(Q,{"active-color":(a==null?void 0:a.read_at)!==null,class:"pa-3 mt-2",key:x,value:a==null?void 0:a.id,rounded:"lg"},{default:t(()=>[n("div",null,[n("h4",E,y(a==null?void 0:a.data.title),1),n("p",I,y(a==null?void 0:a.data.body),1)])]),_:2},1032,["active-color","value"]))),128))]),_:1})]),_:1})):(o(),r(u,{key:2,cols:"12"},{default:t(()=>[M]),_:1}))]}),_:1})]),_:1})]))}});export{m as default};
