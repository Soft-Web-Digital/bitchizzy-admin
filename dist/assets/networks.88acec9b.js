import{d,f as r,Y as i,b7 as c,aG as h,b8 as l,a0 as n}from"./index.09a9e36e.js";const g=d("networks",{state:()=>({loading:!1,dialog:!1,dialog2:!1,networks:[],network:{name:"",wallet_address:"",memo:""},system_data:[],app_version:[],content:"",single_network:{}}),getters:{},actions:{async createNetworks(a){const o=r();var t=new FormData;this.loading=!0,t.append("name",a.name),t.append("wallet_address",a.wallet_address),t.append("memo",a.memo);const{notify:e}=n();try{await i.post(c,t,{headers:{Accept:"application/json",Authorization:`Bearer ${o.token}`}}).then(s=>{this.loading=!1,e({title:"Successful",text:s.data.message,type:"success"}),this.getAllNetwork(),this.dialog=!1})}catch(s){this.loading=!1,e({title:"An Error Occurred",text:s.response.data.message,type:"error"})}},async editNetworks(a){const o=r();var t=new FormData;h(),this.loading=!0,t.append("name",a.name),t.append("wallet_address",a.wallet_address),t.append("memo",a.memo),t.append("_method","PATCH");const{notify:e}=n();try{await i.post(c+"/"+a.id,t,{headers:{Accept:"application/json",Authorization:`Bearer ${o.token}`}}).then(s=>{this.loading=!1,e({title:"Successful",text:s.data.message,type:"success"}),this.getAllNetwork(),this.dialog=!1})}catch(s){this.loading=!1,e({title:"An Error Occurred",text:s.response.data.message,type:"error"})}},async deleteNetworks(a){const o=r();this.loading=!0;const{notify:t}=n();try{await i.delete(c+"/"+a,{headers:{Accept:"application/json",Authorization:`Bearer ${o.token}`}}).then(e=>{this.loading=!1,t({title:"Successful",text:e.data.message,type:"success"}),this.getAllNetwork(),this.dialog=!1})}catch(e){this.loading=!1,t({title:"An Error Occurred",text:e.response.data.message,type:"error"})}},async restoreNetworks(a){const o=r();this.loading=!0;const{notify:t}=n();try{await i.patch(c+"/"+a+"/restore","",{headers:{Accept:"application/json",Authorization:`Bearer ${o.token}`}}).then(e=>{this.loading=!1,t({title:"Successful",text:e.data.message,type:"success"}),this.getAllNetwork(),this.dialog=!1})}catch(e){this.loading=!1,t({title:"An Error Occurred",text:e.response.data.message,type:"error"})}},async getAllNetwork(a=1,o=""){const t=r(),{notify:e}=n();this.loading=!0;try{await i.get(c+"?include=assetsCount&page="+a+"&per_page=100&filter[name]="+o,{headers:{Accept:"application/json",Authorization:`Bearer ${t.token}`}}).then(s=>{this.loading=!1,e({title:"Successful",text:s.data.message,type:"success"}),this.networks=s.data.data.networks})}catch{this.loading=!1}},async getSingleNetwork(a){const o=r(),{notify:t}=n();this.loading=!0;try{await i.get(c+"/"+a+"?include=assets",{headers:{Accept:"application/json",Authorization:`Bearer ${o.token}`}}).then(e=>{this.loading=!1,t({title:"Successful",text:e.data.message,type:"success"}),this.single_network=e.data.data.network})}catch{this.loading=!1}},async getAllSystemData(){const a=r(),{notify:o}=n();this.loading=!0;try{await i.get(l,{headers:{Accept:"application/json",Authorization:`Bearer ${a.token}`}}).then(t=>{this.loading=!1,o({title:"Successful",text:t.data.message,type:"success"});const e=t.data.data.system_data;this.app_version=e.filter(s=>s.code==="IOSVU"||s.code==="ANDVU"),this.system_data=e.filter(s=>s.code!=="IOSVU"&&s.code!=="ANDVU")})}catch{this.loading=!1}},async editSystemData(a){const o=r(),{notify:t}=n();this.loading=!0;var e=new FormData;e.append("content",a.content),e.append("_method","PATCH");try{await i.post(l+"/"+a.id,e,{headers:{Accept:"application/json",Authorization:`Bearer ${o.token}`}}).then(s=>{this.loading=!1,t({title:"Successful",text:s.data.message,type:"success"}),this.system_data=s.data.data.system_data,this.dialog2=!1,this.getAllSystemData()})}catch{this.loading=!1}}}});export{g as u};
