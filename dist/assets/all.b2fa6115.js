import{a as be,s as ee,f as Ve,r,h as ye,aw as ke,o as c,c as f,b as s,e as t,w as l,an as Ce,ao as L,u as o,ap as xe,ax as De,F as te,k as se,x as p,j as M,ay as le,av as ne,a2 as I,az as Ae,D as q,ai as $e,M as oe,m,t as u,a7 as P,a6 as ae,au as ue,a9 as ie,a1 as Ne,T as Te,aA as Se,N as We,q as je,V as Me,p as z,v as F}from"./index.09a9e36e.js";import{u as ce}from"./withdrawals.6484bb7b.js";import{_ as qe}from"./BaseBreadcrumb.4ccd5924.js";import{u as de}from"./index.11c402df.js";import"./axios-services.17ccf49f.js";/* empty css                                                       */const Ue={class:"mt-4"},Be=m("All"),Le=m("Pending"),Re=m("Success"),Ye=m("Failed"),Ee={key:0},Ie={class:"font-weight-bold"},Pe=["onClick"],ze=m(" View Details "),Fe=m(" Approve Withdrawal Request "),Ge=m(" Decline Withdrawal Request "),he={key:1,class:"text-center py-6"},He={class:"mb-3 d-flex justify-space-between"},Je=t("h3",{class:"text-justify mt-7"},"Withdrawal request details",-1),Ke={class:"my-3"},Oe={key:0,class:"w-100 d-flex align-center justify-space-between"},Qe={class:"mb-4"},Xe=t("h5",null,"Wallet balance",-1),Ze={class:"font-weight-bold"},we={class:"mb-4"},et=t("h5",{class:""},"User name",-1),tt={class:""},st={class:"mb-4"},lt=t("h5",{class:""},"Email address",-1),nt={class:""},ot={class:"mb-4"},at=t("h5",{class:""},"Date & time",-1),ut={class:""},it={class:"mb-4"},ct=t("h5",null,"Amount",-1),dt={class:"font-weight-bold"},rt={class:"mb-4"},_t=t("h5",{class:""},"Bank name",-1),mt={class:""},vt={class:"mb-4"},ft=t("h5",{class:""},"Account name",-1),pt={class:""},gt={class:"mb-4"},bt=t("h5",{class:""},"Account number",-1),Vt={class:""},yt={key:2},kt=m(" Disapprove request "),Ct=m(" Approve request "),xt=t("p",null,"Enter Reasons for Declining this withdrawal request",-1),Dt=m("Submit"),Lt=be({__name:"all",setup(At){ee(Ve());const{getAllWithDrawals:g,approveRequest:G,declineRequest:re,getSingleWithDrawals:$t,filterWithDrawalsByDateCreated:Nt,getAllTransactionCount:_e}=ce(),{withdrawals:R,loading:D,singleWithdrawal:h,dialog:A,dialog2:x,disapproving:H,approving:me,withdrawals_total:Tt,total_withdrawal:St}=ee(ce()),U=r(""),J=async()=>{await g(U.value,1),await _e()};let K=r(null);ye(()=>{J(),K.value=setInterval(J,12e4)}),ke(()=>{clearInterval(K.value)});const ve=r({title:"Wallet Transactions"}),Y=r(""),fe=r([{text:"Transactions",disabled:!1,href:"#"},{text:"Withdrawals",disabled:!0,href:"#"}]),pe=r([{title:"No."},{title:"Full name"},{title:"Amount (NGN)"},{title:"Account number"},{title:"Bank"},{title:"Date and Time"},{title:"Status"},{title:"Actions"}]),O=r(""),Q=()=>{x.value==!0?x.value=!1:x.value=!0},_=r(null),ge=b=>{_.value=b};r(["Pending","Completed","Declined","Success"]);const X=b=>b=="pending"?"yellow-darken-3":b=="completed"||b=="success"?"green lighten-3":b=="declined"?"red lighten-3":"",E=r(!1),$=r(1);r("");const B=r(null);return(b,n)=>{var Z;return c(),f("div",null,[s(qe,{title:ve.value.title,breadcrumbs:fe.value},null,8,["title","breadcrumbs"]),t("div",Ue,[s(I,{class:"pa-5"},{default:l(()=>{var i,d;return[s(Ce,{modelValue:B.value,"onUpdate:modelValue":n[4]||(n[4]=a=>B.value=a),"bg-color":"none",class:"mb-5"},{default:l(()=>[s(L,{onClick:n[0]||(n[0]=a=>o(g)("",1))},{default:l(()=>[Be]),_:1}),s(L,{onClick:n[1]||(n[1]=a=>o(g)("pending",1))},{default:l(()=>[Le]),_:1}),s(L,{onClick:n[2]||(n[2]=a=>o(g)("success",1))},{default:l(()=>[Re]),_:1}),s(L,{onClick:n[3]||(n[3]=a=>o(g)("failed",1))},{default:l(()=>[Ye]),_:1})]),_:1},8,["modelValue"]),s(xe,{modelValue:B.value,"onUpdate:modelValue":n[5]||(n[5]=a=>B.value=a)},{default:l(()=>[s(De,null,{default:l(()=>{var a;return[t("thead",null,[t("tr",null,[(c(!0),f(te,null,se(pe.value,(e,v)=>(c(),f("th",{key:v,class:"text-left font-weight-bold"},u(e.title),1))),128))])]),o(D)==!1?(c(),f("tbody",Ee,[(c(!0),f(te,null,se((a=o(R))==null?void 0:a.data,(e,v)=>{var V,y,k,C,N,T,S,W,w;return c(),f("tr",{class:"pa-3",key:e==null?void 0:e.id},[t("td",null,u(v+1),1),t("td",Ie,[t("span",{onClick:j=>b.$router.push({name:"UserDetails",params:{id:e==null?void 0:e.user_id}}),class:"text-capitalize username"},u((y=(V=e==null?void 0:e.user)==null?void 0:V.firstname)!=null?y:"---")+" "+u((C=(k=e==null?void 0:e.user)==null?void 0:k.lastname)!=null?C:"---"),9,Pe)]),t("td",null,"\u20A6\u200E "+u(e.amount.toLocaleString()),1),t("td",null,u((T=(N=e==null?void 0:e.meta)==null?void 0:N.account_number)!=null?T:"---"),1),t("td",null,u((w=(W=(S=e==null?void 0:e.meta)==null?void 0:S.bank)==null?void 0:W.name)!=null?w:"---"),1),t("td",null,u(o(de)(e==null?void 0:e.created_at,"DD, MMMM-YYYY").value),1),t("td",null,[s(oe,{label:"",class:"text-capitalize font-weight-bold pa-3",color:X(e==null?void 0:e.status)},{default:l(()=>[m(u(e==null?void 0:e.status),1)]),_:2},1032,["color"])]),t("td",null,[s(P,{justify:"center"},{default:l(()=>[s(We,{transition:"scroll-y-transition"},{activator:l(({props:j})=>[s(q,je({text:"",icon:"mdi-dots-vertical",color:"transparent",class:"ma-2"},j),null,16)]),default:l(()=>[s(Me,null,{default:l(()=>[s(z,{onClick:j=>(ge(e),A.value=!0),link:"",color:"secondary"},{default:l(()=>[s(F,null,{default:l(()=>[ze]),_:1})]),_:2},1032,["onClick"]),(e==null?void 0:e.status)=="pending"?(c(),M(z,{key:0,onClick:j=>o(G)(e==null?void 0:e.reference),link:"",color:"secondary"},{default:l(()=>[s(F,null,{default:l(()=>[Fe]),_:1})]),_:2},1032,["onClick"])):p("",!0),(e==null?void 0:e.status)=="pending"?(c(),M(z,{key:1,onClick:j=>{O.value=e==null?void 0:e.reference,Q()},link:"",color:"secondary"},{default:l(()=>[s(F,null,{default:l(()=>[Ge]),_:1})]),_:2},1032,["onClick"])):p("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)])])}),128))])):p("",!0)]}),_:1})]),_:1},8,["modelValue"]),o(D)==!0?(c(),M(ne,{key:0,class:"align-center justify-center w-100 my-5"},{default:l(()=>[s(le,{indeterminate:""})]),_:1})):p("",!0),o(D)==!1&&((d=(i=o(R))==null?void 0:i.data)==null?void 0:d.length)<=0?(c(),f("p",he," No data available ")):p("",!0)]}),_:1}),s(Ae,{modelValue:$.value,"onUpdate:modelValue":[n[6]||(n[6]=i=>$.value=i),n[9]||(n[9]=i=>o(g)(U.value,$.value))],length:(Z=o(R))==null?void 0:Z.last_page,onNext:n[7]||(n[7]=i=>o(g)(U.value,$.value)),onPrev:n[8]||(n[8]=i=>o(g)(U.value,$.value)),"active-color":"red",start:1,variant:"flat",class:"mt-5",color:"bg-secondary",rounded:"circle"},null,8,["modelValue","length"])]),s(ie,{modelValue:o(A),"onUpdate:modelValue":n[12]||(n[12]=i=>ue(A)?A.value=i:null),"max-width":"429px","min-height":"476px"},{default:l(()=>[s(I,{class:"view-dialog pa-4"},{default:l(()=>{var i;return[t("div",He,[Je,s(q,{onClick:n[10]||(n[10]=d=>A.value=!1),icon:"mdi-close",color:"secondary",variant:"text"},{default:l(()=>[s($e,{icon:"mdi-close"})]),_:1})]),t("div",Ke,[t("div",null,[s(oe,{label:"",size:"small",density:"comfortable",class:"text-capitalize font-weight-bold pa-3",color:X((i=_.value)==null?void 0:i.status)},{default:l(()=>{var d;return[m(u((d=_.value)==null?void 0:d.status),1)]}),_:1},8,["color"])])]),E.value==!1&&o(D)==!1?(c(),f("div",Oe,[s(P,{align:"center",justify:"center","no-gutters":"",class:"w-100 align-center justify-space-between"},{default:l(()=>[s(ae,{class:"pa-0"},{default:l(()=>{var d,a,e,v,V,y,k,C;return[t("div",Qe,[t("div",null,[Xe,t("p",Ze," \u20A6\u200E"+u((d=_.value)==null?void 0:d.balance_after.toLocaleString()),1)])]),t("div",we,[t("div",null,[et,t("p",tt,u((e=(a=_.value)==null?void 0:a.user)==null?void 0:e.firstname)+" "+u((V=(v=_.value)==null?void 0:v.user)==null?void 0:V.lastname),1)])]),t("div",st,[t("div",null,[lt,t("p",nt,u((k=(y=_.value)==null?void 0:y.user)==null?void 0:k.email),1)])]),t("div",ot,[t("div",null,[at,t("p",ut,u(o(de)((C=_.value)==null?void 0:C.created_at,"DD, MMMM-YYYY").value),1)])])]}),_:1})]),_:1}),s(P,{align:"center",justify:"center","no-gutters":"",class:"w-100 align-center justify-space-between ml-5"},{default:l(()=>[s(ae,{class:"pa-0"},{default:l(()=>{var d,a,e,v,V,y,k,C,N,T,S,W;return[t("div",it,[t("div",null,[ct,t("p",dt," \u20A6\u200E"+u((a=(d=_.value)==null?void 0:d.amount)==null?void 0:a.toLocaleString()),1)])]),t("div",rt,[t("div",null,[_t,t("p",mt,u((y=(V=(v=(e=_.value)==null?void 0:e.meta)==null?void 0:v.bank)==null?void 0:V.name)!=null?y:"No data"),1)])]),t("div",vt,[t("div",null,[ft,t("p",pt,u((N=(C=(k=_.value)==null?void 0:k.meta)==null?void 0:C.account_name)!=null?N:"No data"),1)])]),t("div",gt,[t("div",null,[bt,t("p",Vt,u((W=(S=(T=_.value)==null?void 0:T.meta)==null?void 0:S.account_number)!=null?W:"No data"),1)])])]}),_:1})]),_:1})])):p("",!0),E.value==!0||o(D)==!0?(c(),M(ne,{key:1,class:"align-center justify-center w-100 my-10"},{default:l(()=>[s(le,{indeterminate:""})]),_:1})):p("",!0),o(h).status=="pending"&&E.value==!1?(c(),f("div",yt,[s(q,{onClick:Q,class:"wallet-btn",variant:"outlined",color:"error",loading:o(H)},{default:l(()=>[kt]),_:1},8,["loading"]),s(q,{onClick:n[11]||(n[11]=d=>{var a;return o(G)((a=o(h))==null?void 0:a.id)}),class:"wallet-btn ml-4",color:"secondary",loading:o(me)},{default:l(()=>[Ct]),_:1},8,["loading"])])):p("",!0)]}),_:1})]),_:1},8,["modelValue"]),o(x)?(c(),M(ie,{key:0,modelValue:o(x),"onUpdate:modelValue":n[15]||(n[15]=i=>ue(x)?x.value=i:null),"max-width":"500px",width:"auto"},{default:l(()=>[s(I,null,{default:l(()=>[s(Ne,null,{default:l(()=>[xt]),_:1}),s(Te,{class:"mt-7"},{default:l(()=>[s(Se,{label:"Comments",modelValue:Y.value,"onUpdate:modelValue":n[13]||(n[13]=i=>Y.value=i),variant:"outlined"},null,8,["modelValue"]),s(q,{color:"secondary",class:"my-5",block:"",loading:o(H),onClick:n[14]||(n[14]=i=>o(re)(O.value,Y.value))},{default:l(()=>[Dt]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):p("",!0)])}}});export{Lt as default};
